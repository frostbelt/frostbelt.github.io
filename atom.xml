<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>frostbelt&#39;s home</title>
  
  <subtitle>想学更多有意思的东西，想做自己的网站，想学画画</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://frostbelt.github.io/"/>
  <updated>2020-07-13T03:12:06.251Z</updated>
  <id>https://frostbelt.github.io/</id>
  
  <author>
    <name>frostbelt</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>阿里云配置 node 服务器</title>
    <link href="https://frostbelt.github.io/2020/07/13/%E9%98%BF%E9%87%8C%E4%BA%91%E9%85%8D%E7%BD%AE-node-%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>https://frostbelt.github.io/2020/07/13/阿里云配置-node-服务器/</id>
    <published>2020-07-13T03:09:24.000Z</published>
    <updated>2020-07-13T03:12:06.251Z</updated>
    
    <content type="html"><![CDATA[<p>node 服务器占用的端口为 3000</p><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在 ECS 安全组策略中开放 3000 端口，用 http://xxx.xxx.xxx:3000/ 访问</span><br></pre></td></tr></table></figure><h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">配置 nginx 代理:</span><br><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  server_name xxx.xxx.xxx;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">    proxy_pass http://127.0.0.1:3000;</span><br><span class="line">    root 1;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">用 http://xxx.xxx.xxx/ 访问</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;node 服务器占用的端口为 3000&lt;/p&gt;
&lt;h3 id=&quot;方法一&quot;&gt;&lt;a href=&quot;#方法一&quot; class=&quot;headerlink&quot; title=&quot;方法一&quot;&gt;&lt;/a&gt;方法一&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr
      
    
    </summary>
    
    
      <category term="nginx" scheme="https://frostbelt.github.io/tags/nginx/"/>
    
      <category term="ali" scheme="https://frostbelt.github.io/tags/ali/"/>
    
      <category term="node" scheme="https://frostbelt.github.io/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>video 隐藏下载/全屏按钮</title>
    <link href="https://frostbelt.github.io/2020/06/17/video-%E9%9A%90%E8%97%8F%E4%B8%8B%E8%BD%BD-%E5%85%A8%E5%B1%8F%E6%8C%89%E9%92%AE/"/>
    <id>https://frostbelt.github.io/2020/06/17/video-隐藏下载-全屏按钮/</id>
    <published>2020-06-17T01:35:49.000Z</published>
    <updated>2020-06-17T01:41:39.748Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>曾几何时，为了隐藏 video 的全屏按钮，好麻烦，要设置 controls 的宽度，把全屏按钮顶出去，还有兼容问题</p></blockquote><p>现在可以直接用 controlsList 控制显示什么(只考虑 android 的话)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;video controls controlsList=&apos;nofullscreen nodownload noremote footbar&apos;&gt;&lt;/video&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;曾几何时，为了隐藏 video 的全屏按钮，好麻烦，要设置 controls 的宽度，把全屏按钮顶出去，还有兼容问题&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;现在可以直接用 controlsList 控制显示什么(只考虑 android 的话)&lt;
      
    
    </summary>
    
    
      <category term="css" scheme="https://frostbelt.github.io/tags/css/"/>
    
      <category term="video" scheme="https://frostbelt.github.io/tags/video/"/>
    
  </entry>
  
  <entry>
    <title>js 生成 [1, 100] 的数组</title>
    <link href="https://frostbelt.github.io/2020/06/08/js-%E7%94%9F%E6%88%90-1-100-%E7%9A%84%E6%95%B0%E7%BB%84/"/>
    <id>https://frostbelt.github.io/2020/06/08/js-生成-1-100-的数组/</id>
    <published>2020-06-08T09:45:20.000Z</published>
    <updated>2020-06-08T09:45:58.295Z</updated>
    
    <content type="html"><![CDATA[<p>let arr = Array.from({ length:100 }, (v, k) =&gt; k + 1);</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;let arr = Array.from({ length:100 }, (v, k) =&amp;gt; k + 1);&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="js" scheme="https://frostbelt.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>vue 组件开发神器 vue-sfc-cli</title>
    <link href="https://frostbelt.github.io/2020/05/29/vue-%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91%E7%A5%9E%E5%99%A8-vue-sfc-cli/"/>
    <id>https://frostbelt.github.io/2020/05/29/vue-组件开发神器-vue-sfc-cli/</id>
    <published>2020-05-29T06:34:26.000Z</published>
    <updated>2020-05-29T06:54:58.325Z</updated>
    
    <content type="html"><![CDATA[<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i vue-sfc-cli -g</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ sfc-init</span><br><span class="line">✔ Is this a single component or a library? › Library                         开发一个组件还是组件库?</span><br><span class="line">✔ What is the npm name of your component? … element-ui-admin                 项目名称</span><br><span class="line">✔ What is the kebab-case tag name for your component? … element-ui-admin     项目名称(短横线命名)</span><br><span class="line">✔ Will this component be written in JavaScript or TypeScript? › JavaScript   JavaScript/TypeScript</span><br><span class="line">✔ Enter a location to save the component files: … ./element-ui-admin         项目存放路径</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  Init is complete, your files have been generated and saved into the directory you specified above.</span><br><span class="line">  Within that directory, use src/element-ui-admin.vue as a starting point for your SFC.</span><br><span class="line">  When you&apos;re ready, run `npm run build` to generate the redistributable versions.</span><br><span class="line">$ ll</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x  8 xxxxx  staff  256  5 28 15:18 element-ui-admin</span><br><span class="line">$ cd element-ui-admin</span><br><span class="line">$ ll</span><br><span class="line">total 16</span><br><span class="line">-rw-r--r--  1 xxxxx  staff    65  5 28 15:18 babel.config.js</span><br><span class="line">drwxr-xr-x  3 xxxxx  staff    96  5 28 15:18 build</span><br><span class="line">drwxr-xr-x  4 xxxxx  staff   128  5 28 15:18 dev                  自测目录</span><br><span class="line">-rw-r--r--  1 xxxxx  staff  1415  5 28 15:18 package.json</span><br><span class="line">drwxr-xr-x  4 xxxxx  staff   128  5 28 15:18 src                  源文件目录</span><br><span class="line">$ cnpm install</span><br></pre></td></tr></table></figure><h3 id="自测"><a href="#自测" class="headerlink" title="自测"></a>自测</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run serve</span><br></pre></td></tr></table></figure><h3 id="发布-npm"><a href="#发布-npm" class="headerlink" title="发布 npm"></a>发布 npm</h3><p>参考<a href="https://www.jianshu.com/p/ea64fd01679c" target="_blank" rel="noopener">第一次发布npm包</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">主要有以下几步:</span><br><span class="line">1. 在 https://www.npmjs.com/ 注册账号</span><br><span class="line">2. 项目中登录 npm 账号</span><br><span class="line">  $ npm login</span><br><span class="line">3. 发布项目</span><br><span class="line">  $ npm publish</span><br></pre></td></tr></table></figure></p><h3 id="关于更新"><a href="#关于更新" class="headerlink" title="关于更新"></a>关于更新</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">再次 publish 前，先要更新 package.json 中的 version</span><br><span class="line">$ npm version patch/minor/major   补丁/小改/大改</span><br><span class="line">对应 version &quot;1.0.0&quot; 中的三段</span><br></pre></td></tr></table></figure><h3 id="遇到问题及解决"><a href="#遇到问题及解决" class="headerlink" title="遇到问题及解决"></a>遇到问题及解决</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">在 element-ui 基础上的二次封装，使用这种写法</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;el-checkbox-string&quot;,</span><br><span class="line">  template : `</span><br><span class="line">  </span><br><span class="line">  `,</span><br><span class="line">&#125;</span><br><span class="line">报错: [Vue warn]: You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.</span><br><span class="line"></span><br><span class="line">解决: 需要修改 vue 为 compiler（模板）模式</span><br><span class="line">加 vue.config.js 文件，内容为:</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  productionSourceMap : false,</span><br><span class="line">  chainWebpack: config =&gt; &#123;</span><br><span class="line">    config.resolve.alias.set(&apos;vue$&apos;, &apos;vue/dist/vue.esm.js&apos;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm i vue-sfc-cli -g&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="npm" scheme="https://frostbelt.github.io/tags/npm/"/>
    
      <category term="vue" scheme="https://frostbelt.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>fiddler 转 https 为 http</title>
    <link href="https://frostbelt.github.io/2020/05/01/fiddler-%E8%BD%AC-https-%E4%B8%BA-http/"/>
    <id>https://frostbelt.github.io/2020/05/01/fiddler-转-https-为-http/</id>
    <published>2020-05-01T02:14:19.000Z</published>
    <updated>2020-05-01T02:21:09.592Z</updated>
    
    <content type="html"><![CDATA[<p>Rules -&gt; Customize Rules…<br>Go -&gt; to OnBeforeRequst</p><p>在 OnBeforeRequst 方法的开头添加内下内容:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (oSession.isHTTPS)&#123;</span><br><span class="line">  oSession.fullUrl = &quot;http://&quot; + oSession.hostname + oSession.PathAndQuery;</span><br><span class="line">&#125;</span><br><span class="line">注: 自测在 mi 6 系统浏览器里不好使，其它浏览器或 app 内没发现问题</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Rules -&amp;gt; Customize Rules…&lt;br&gt;Go -&amp;gt; to OnBeforeRequst&lt;/p&gt;
&lt;p&gt;在 OnBeforeRequst 方法的开头添加内下内容:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table
      
    
    </summary>
    
    
      <category term="fiddler" scheme="https://frostbelt.github.io/tags/fiddler/"/>
    
  </entry>
  
  <entry>
    <title>fiddler iphone 抓包 https</title>
    <link href="https://frostbelt.github.io/2020/05/01/fiddler-iphone-%E6%8A%93%E5%8C%85-https/"/>
    <id>https://frostbelt.github.io/2020/05/01/fiddler-iphone-抓包-https/</id>
    <published>2020-05-01T02:09:56.000Z</published>
    <updated>2020-05-01T02:13:44.833Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>android 一般装了 fiddler 的证书后就可以抓 https 包了，但 ios 有时不行，显示证书不被信任</p></blockquote><a id="more"></a><p>解决:<br>关于本机 -&gt; 证书信任设置<br>对已安装的证书添加信任</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;android 一般装了 fiddler 的证书后就可以抓 https 包了，但 ios 有时不行，显示证书不被信任&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="fiddler" scheme="https://frostbelt.github.io/tags/fiddler/"/>
    
  </entry>
  
  <entry>
    <title>rollup 打包 js 插件</title>
    <link href="https://frostbelt.github.io/2020/04/27/rollup-%E6%89%93%E5%8C%85-js-%E6%8F%92%E4%BB%B6/"/>
    <id>https://frostbelt.github.io/2020/04/27/rollup-打包-js-插件/</id>
    <published>2020-04-27T08:29:45.000Z</published>
    <updated>2020-04-27T08:35:58.840Z</updated>
    
    <content type="html"><![CDATA[<p>开源插件，需要判断 JS 执行环境，实现类似以下功能:<br><a href="https://www.jianshu.com/p/f75eaa5f1fa4" target="_blank" rel="noopener">JS兼容不同环境下执行</a></p><a id="more"></a><p><a href="https://www.rollupjs.com/guide/introduction/" target="_blank" rel="noopener">rollup</a> 可以打包时自己生成这套兼容代码</p><p>查看 <a href="https://github.com/frostbelt/demo_rollup" target="_blank" rel="noopener">demo</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;开源插件，需要判断 JS 执行环境，实现类似以下功能:&lt;br&gt;&lt;a href=&quot;https://www.jianshu.com/p/f75eaa5f1fa4&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;JS兼容不同环境下执行&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="rollup" scheme="https://frostbelt.github.io/tags/rollup/"/>
    
      <category term="插件" scheme="https://frostbelt.github.io/tags/%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>vscode 使用 ts 声明实现全局引用智能提示</title>
    <link href="https://frostbelt.github.io/2020/04/26/vscode-%E4%BD%BF%E7%94%A8-ts-%E5%A3%B0%E6%98%8E%E5%AE%9E%E7%8E%B0%E5%85%A8%E5%B1%80%E5%BC%95%E7%94%A8%E6%99%BA%E8%83%BD%E6%8F%90%E7%A4%BA/"/>
    <id>https://frostbelt.github.io/2020/04/26/vscode-使用-ts-声明实现全局引用智能提示/</id>
    <published>2020-04-26T06:19:04.000Z</published>
    <updated>2020-04-26T10:13:08.871Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>自己的全局依赖(JS 实现)，挂在 Vue.prototype 上，在其它 vue 中使用时，想有智能提示</p></blockquote><a id="more"></a><p>在根目录新建 fe.d.ts 声明文件(文件名任意)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line"></span><br><span class="line">export interface Helper &#123;</span><br><span class="line">  /**</span><br><span class="line"> * 获取 url 参数</span><br><span class="line">   * @param &#123;String&#125; href 默认取当前页地址</span><br><span class="line"> */</span><br><span class="line">  getParams (href?:String): Object</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">declare module &apos;vue/types/vue&apos; &#123;</span><br><span class="line">  interface Vue &#123;</span><br><span class="line">    $helper: Helper,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>然后，重启 vscode !!!</p><p>这样，在其它 vue 中输入 <code>this.$helper.g</code> 时，会有智能提示<br><img src="https://p.ssl.qhimg.com/t010ff2c92bb2f778b8.jpg" alt="智能提示"></p><p>如果是 TS 实现，会自动生成 d.ts 声明文件，逐步重构吧</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;自己的全局依赖(JS 实现)，挂在 Vue.prototype 上，在其它 vue 中使用时，想有智能提示&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="vscode" scheme="https://frostbelt.github.io/tags/vscode/"/>
    
      <category term="types" scheme="https://frostbelt.github.io/tags/types/"/>
    
  </entry>
  
  <entry>
    <title>vscode 搜索 node_modules 中的文件</title>
    <link href="https://frostbelt.github.io/2020/04/26/vscode-%E6%90%9C%E7%B4%A2-node-modules-%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6/"/>
    <id>https://frostbelt.github.io/2020/04/26/vscode-搜索-node-modules-中的文件/</id>
    <published>2020-04-26T02:13:19.000Z</published>
    <updated>2020-04-26T02:30:40.757Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>想打开 element-ui 下的 message.d.ts 文件，但 node_modules 下有几百个依赖，找到 element-ui 要翻半天</p></blockquote><p>使用扩展 search-node-modules</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. 安装扩展 search-node-modules</span><br><span class="line">2. cmd + p</span><br><span class="line">3. 输入 &gt;node，选择 search node_modules，显示 node_modules 下所有目录/文件</span><br><span class="line">3. 输入 element-ui, 选择 element-ui，显示 element-ui 下所有目录/文件</span><br><span class="line">4. 输入 types，选择 types，显示 types 下所有目录/文件</span><br><span class="line">5. 输入 message.d.ts，选择打开文件</span><br><span class="line"></span><br><span class="line">事实上，从 3 开始，就像在命令上下打开一个文件</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;想打开 element-ui 下的 message.d.ts 文件，但 node_modules 下有几百个依赖，找到 element-ui 要翻半天&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;使用扩展 search-node-modules&lt;/p&gt;
    
    </summary>
    
    
      <category term="vscode" scheme="https://frostbelt.github.io/tags/vscode/"/>
    
  </entry>
  
  <entry>
    <title>vue 通用组件</title>
    <link href="https://frostbelt.github.io/2020/04/23/vue-%E9%80%9A%E7%94%A8%E7%BB%84%E4%BB%B6/"/>
    <id>https://frostbelt.github.io/2020/04/23/vue-通用组件/</id>
    <published>2020-04-23T07:50:18.000Z</published>
    <updated>2020-04-23T08:03:44.736Z</updated>
    
    <content type="html"><![CDATA[<p>类似 element ui 中的 <code>this.$message.success(&#39;提交成功&#39;)</code> 这种通用组件是怎么生成的?</p><p>–Loading<br> |<strong>Loading.vue<br> |</strong>index.js</p><a id="more"></a><p>Loading.vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div v-show=&quot;show&quot; class=&quot;loading&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;loading&quot;,</span><br><span class="line">  props: &#123;&#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      show: false</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    init() &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.init();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">...</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p>index.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import Loading from &quot;./Loading&quot;</span><br><span class="line"></span><br><span class="line">const LoadingConstructor = Vue.extend(Loading);</span><br><span class="line">const Ld = &#123;</span><br><span class="line">  init() &#123;</span><br><span class="line">    if (this.is_inited) &#123;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line">    this.is_inited = true;</span><br><span class="line"></span><br><span class="line">    this.instance = new LoadingConstructor(&#123;</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">    this.instance.vm = this.instance.$mount();    // $mount() 没有参数时，模板将被渲染为文档之外的元素</span><br><span class="line">    document.body.appendChild(this.instance.$el); // 这种情况下必须使用原生 DOM API 把它插入文档中</span><br><span class="line">    this.instance.dom = this.instance.$el;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  show() &#123;</span><br><span class="line">    this.init();</span><br><span class="line">    this.instance.vm.show = true;                 // 可直接操作 Loading.vue 的 data</span><br><span class="line">  &#125;,</span><br><span class="line">  hide() &#123;</span><br><span class="line">    this.init();</span><br><span class="line">    this.instance.vm.show = false;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Ld;</span><br></pre></td></tr></table></figure></p><p>使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import Ld from &quot;xxx/Loading&quot;;</span><br><span class="line"></span><br><span class="line">Ld.show();</span><br><span class="line">or </span><br><span class="line">Ld.hide();</span><br></pre></td></tr></table></figure></p><p>当然也可以挂下 Vue 下<br>main.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import Loading from &quot;xxx/Loading&quot;;</span><br><span class="line"></span><br><span class="line">Vue.prototype.$loading = Loading;</span><br></pre></td></tr></table></figure></p><p>在其它 vue 中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$loading.show();</span><br><span class="line">or </span><br><span class="line">this.$loading.hide();</span><br></pre></td></tr></table></figure></p><p>参考:<br><a href="https://www.cnblogs.com/fangnianqin/p/10103216.html" target="_blank" rel="noopener">element-ui Message组件源码分析整理笔记（八）</a><br><a href="https://www.cnblogs.com/hentai-miao/p/10271652.html" target="_blank" rel="noopener">Vue 基础知识之 Vue.extend</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;类似 element ui 中的 &lt;code&gt;this.$message.success(&amp;#39;提交成功&amp;#39;)&lt;/code&gt; 这种通用组件是怎么生成的?&lt;/p&gt;
&lt;p&gt;–Loading&lt;br&gt; |&lt;strong&gt;Loading.vue&lt;br&gt; |&lt;/strong&gt;index.js&lt;/p&gt;
    
    </summary>
    
    
      <category term="vue" scheme="https://frostbelt.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>git https 访问,长期存储密码</title>
    <link href="https://frostbelt.github.io/2020/04/23/git-https-%E8%AE%BF%E9%97%AE-%E9%95%BF%E6%9C%9F%E5%AD%98%E5%82%A8%E5%AF%86%E7%A0%81/"/>
    <id>https://frostbelt.github.io/2020/04/23/git-https-访问-长期存储密码/</id>
    <published>2020-04-23T06:13:57.000Z</published>
    <updated>2020-04-23T06:18:15.112Z</updated>
    
    <content type="html"><![CDATA[<p>git ssh 访问，只要把 ssh 公匙放到 git server 端就可以了，不需要输入账号密码</p><p>但有些情况下，不能使用 ssh 方式，比如: 万恶的公司网限制了 ssh 端口</p><a id="more"></a><p>解决方法:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 长期存储 git 账号密码</span><br><span class="line">$ git config --global credential.helper store</span><br><span class="line"></span><br><span class="line"># 也可以设置缓存，默认 15 分钟内不需要再次输入账号密码</span><br><span class="line">$ git config --global credential.helper cache</span><br><span class="line"># 也可以设置缓存时间，这样就设置一个小时之后失效</span><br><span class="line">$ git config --global credential.helper &apos;cache –timeout=3600&apos;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;git ssh 访问，只要把 ssh 公匙放到 git server 端就可以了，不需要输入账号密码&lt;/p&gt;
&lt;p&gt;但有些情况下，不能使用 ssh 方式，比如: 万恶的公司网限制了 ssh 端口&lt;/p&gt;
    
    </summary>
    
    
      <category term="git" scheme="https://frostbelt.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>vscode alias 代码提示</title>
    <link href="https://frostbelt.github.io/2020/04/21/vscode-alias-%E4%BB%A3%E7%A0%81%E6%8F%90%E7%A4%BA/"/>
    <id>https://frostbelt.github.io/2020/04/21/vscode-alias-代码提示/</id>
    <published>2020-04-21T09:11:54.000Z</published>
    <updated>2020-04-21T09:16:11.971Z</updated>
    
    <content type="html"><![CDATA[<p>vue 配置了 alias，如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">chainWebpack: config =&gt; &#123;</span><br><span class="line">  config.resolve.alias.set(&apos;vue$&apos;, &apos;vue/dist/vue.esm.js&apos;)</span><br><span class="line">  config.resolve.alias.set(&apos;@img&apos;, path.resolve(__dirname, &apos;src/assets/images&apos;))</span><br><span class="line">  config.resolve.alias.set(&apos;@js&apos;, path.resolve(__dirname, &apos;src/assets/js&apos;))</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>这样在 <code>import XXX from &quot;@js/xxx&quot;</code> 后，没有代码提示了</p><a id="more"></a><p>在根目录新建 <code>jsconfig.json</code>，内容:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;compilerOptions&quot;: &#123;</span><br><span class="line">&quot;baseUrl&quot;: &quot;./&quot;,</span><br><span class="line">&quot;paths&quot;: &#123;</span><br><span class="line">&quot;@img/*&quot;: [&quot;src/assets/images/*&quot;],</span><br><span class="line">&quot;@js/*&quot;: [&quot;src/assets/js/*&quot;],</span><br><span class="line">      ...</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;exclude&quot;: [&quot;node_modules&quot;, &quot;dist&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>用于配置 alias 指向的目录，然后 <code>重启 vscode!</code></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;vue 配置了 alias，如:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;chainWebpack: config =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  config.resolve.alias.set(&amp;apos;vue$&amp;apos;, &amp;apos;vue/dist/vue.esm.js&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  config.resolve.alias.set(&amp;apos;@img&amp;apos;, path.resolve(__dirname, &amp;apos;src/assets/images&amp;apos;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  config.resolve.alias.set(&amp;apos;@js&amp;apos;, path.resolve(__dirname, &amp;apos;src/assets/js&amp;apos;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这样在 &lt;code&gt;import XXX from &amp;quot;@js/xxx&amp;quot;&lt;/code&gt; 后，没有代码提示了&lt;/p&gt;
    
    </summary>
    
    
      <category term="vscode" scheme="https://frostbelt.github.io/tags/vscode/"/>
    
      <category term="vue" scheme="https://frostbelt.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Hybird 开发注意点</title>
    <link href="https://frostbelt.github.io/2020/04/20/Hybird-%E5%BC%80%E5%8F%91%E6%B3%A8%E6%84%8F%E7%82%B9/"/>
    <id>https://frostbelt.github.io/2020/04/20/Hybird-开发注意点/</id>
    <published>2020-04-20T07:18:16.000Z</published>
    <updated>2020-04-24T12:09:17.077Z</updated>
    
    <content type="html"><![CDATA[<h3 id="客户端回调页面"><a href="#客户端回调页面" class="headerlink" title="客户端回调页面"></a>客户端回调页面</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">接口回调方法名由 js 指定，类似 jsonp，否则多次连续调用同一接口只能串行</span><br><span class="line">example:</span><br><span class="line">web-&gt;client</span><br><span class="line">Client.getUserInfo(&#123;</span><br><span class="line">  callbackName : &quot;xxx&quot;,</span><br><span class="line">&#125;);</span><br><span class="line">client-&gt;web</span><br><span class="line">window.xxx(&#123;</span><br><span class="line">  vc : 10001,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="输入法弹起时"><a href="#输入法弹起时" class="headerlink" title="输入法弹起时"></a>输入法弹起时</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入法弹起时，最好是缩小 webview 高度，可以避免以下问题:</span><br><span class="line">  a. fixed head 被顶出视野外(如果输入法把整个 webview 顶起)；</span><br><span class="line">  b. fixed foot(弹幕等) 被盖住(如果输入法把 webview 遮盖)；</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;客户端回调页面&quot;&gt;&lt;a href=&quot;#客户端回调页面&quot; class=&quot;headerlink&quot; title=&quot;客户端回调页面&quot;&gt;&lt;/a&gt;客户端回调页面&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;接口回调方法名由 js 指定，类似 jsonp，否则多次连续调用同一接口只能串行&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;example:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;web-&amp;gt;client&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Client.getUserInfo(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  callbackName : &amp;quot;xxx&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;client-&amp;gt;web&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;window.xxx(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  vc : 10001,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="hybird" scheme="https://frostbelt.github.io/tags/hybird/"/>
    
  </entry>
  
  <entry>
    <title>vscode 搜索支持通配符</title>
    <link href="https://frostbelt.github.io/2020/04/20/vscode-%E6%90%9C%E7%B4%A2%E6%94%AF%E6%8C%81%E9%80%9A%E9%85%8D%E7%AC%A6/"/>
    <id>https://frostbelt.github.io/2020/04/20/vscode-搜索支持通配符/</id>
    <published>2020-04-20T07:14:16.000Z</published>
    <updated>2020-04-20T07:14:53.705Z</updated>
    
    <content type="html"><![CDATA[<p>示例:<br>./src/*/page</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;示例:&lt;br&gt;./src/*/page&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="vscode" scheme="https://frostbelt.github.io/tags/vscode/"/>
    
  </entry>
  
  <entry>
    <title>实现CORS 服务端需要做什么</title>
    <link href="https://frostbelt.github.io/2020/04/18/%E5%AE%9E%E7%8E%B0CORS-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%9C%80%E8%A6%81%E5%81%9A%E4%BB%80%E4%B9%88/"/>
    <id>https://frostbelt.github.io/2020/04/18/实现CORS-服务端需要做什么/</id>
    <published>2020-04-18T12:15:41.000Z</published>
    <updated>2020-04-18T12:17:31.191Z</updated>
    
    <content type="html"><![CDATA[<p>PHP 实现，在构造函数中:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// host 白名单</span><br><span class="line">$hostList = [</span><br><span class="line">  &apos;http://xxx.xxx.xxx&apos;,</span><br><span class="line">  &apos;http://localhost:8080&apos;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">if( !empty($_SERVER[&apos;HTTP_ORIGIN&apos;]) &amp;&amp; in_array($_SERVER[&apos;HTTP_ORIGIN&apos;], $hostList))&#123;</span><br><span class="line">  header(&apos;Access-Control-Allow-Origin:&apos;.$_SERVER[&apos;HTTP_ORIGIN&apos;]);</span><br><span class="line">  header(&apos;Access-Control-Allow-Credentials:true&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;PHP 实现，在构造函数中:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;
      
    
    </summary>
    
    
      <category term="php" scheme="https://frostbelt.github.io/tags/php/"/>
    
      <category term="cors" scheme="https://frostbelt.github.io/tags/cors/"/>
    
  </entry>
  
  <entry>
    <title>当transpileDependencies无效时</title>
    <link href="https://frostbelt.github.io/2020/04/17/%E5%BD%93transpileDependencies%E6%97%A0%E6%95%88%E6%97%B6/"/>
    <id>https://frostbelt.github.io/2020/04/17/当transpileDependencies无效时/</id>
    <published>2020-04-17T08:26:11.000Z</published>
    <updated>2020-04-17T08:38:55.416Z</updated>
    
    <content type="html"><![CDATA[<p>vue-cli 默认 babel-loader 忽略 node_modules<br>当某个依赖(如 vue-baberrage)存在 ES6 语法时，vue 官方给出的解决方案是 <a href="https://cli.vuejs.org/zh/config/#transpiledependencies" target="_blank" rel="noopener">transpileDependencies</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">默认情况下 babel-loader 会忽略所有 node_modules 中的文件。如果你想要通过 Babel 显式转译一个依赖，可以在这个选项中列出来。</span><br><span class="line"></span><br><span class="line">vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  transpileDependencies : [&apos;vue-baberrage&apos;],   // 需要转译的依赖数组</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但自测 transpileDependencies 无效，解决办法:</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">chainWebpack: config =&gt; &#123;</span><br><span class="line">  config.module.rule(&apos;js&apos;)</span><br><span class="line">    .test(/\.m?jsx?$/)</span><br><span class="line">    .exclude</span><br><span class="line">    .clear()</span><br><span class="line">    .add(filepath =&gt; &#123;</span><br><span class="line">      if (/\.vue\.jsx?$/.test(filepath)) &#123;</span><br><span class="line">        return false</span><br><span class="line">      &#125;</span><br><span class="line">      // exclude dynamic entries from cli-service</span><br><span class="line">      const cliServicePath = require(&apos;path&apos;).dirname(require.resolve(&apos;@vue/cli-service&apos;))</span><br><span class="line">      if (filepath.startsWith(cliServicePath)) &#123;</span><br><span class="line">        return true</span><br><span class="line">      &#125;</span><br><span class="line">      // check if this is something the user explicitly wants to transpile</span><br><span class="line">      if ([/vue-baberrage/].some(dep =&gt; filepath.match(dep))) &#123;</span><br><span class="line">        return false</span><br><span class="line">      &#125;</span><br><span class="line">      // Don&apos;t transpile node_modules</span><br><span class="line">      return /node_modules/.test(filepath)</span><br><span class="line">    &#125;)</span><br><span class="line">    .end()</span><br><span class="line">    .use(&apos;babel-loader&apos;)</span><br><span class="line">    .loader(&apos;babel-loader&apos;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;vue-cli 默认 babel-loader 忽略 node_modules&lt;br&gt;当某个依赖(如 vue-baberrage)存在 ES6 语法时，vue 官方给出的解决方案是 &lt;a href=&quot;https://cli.vuejs.org/zh/config/#transpiledependencies&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;transpileDependencies&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;默认情况下 babel-loader 会忽略所有 node_modules 中的文件。如果你想要通过 Babel 显式转译一个依赖，可以在这个选项中列出来。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;vue.config.js&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;module.exports = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  transpileDependencies : [&amp;apos;vue-baberrage&amp;apos;],   // 需要转译的依赖数组&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;但自测 transpileDependencies 无效，解决办法:&lt;/p&gt;
    
    </summary>
    
    
      <category term="vue" scheme="https://frostbelt.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>微信打开 chrome inspect 调试</title>
    <link href="https://frostbelt.github.io/2020/04/14/%E5%BE%AE%E4%BF%A1%E6%89%93%E5%BC%80-chrome-inspect-%E8%B0%83%E8%AF%95/"/>
    <id>https://frostbelt.github.io/2020/04/14/微信打开-chrome-inspect-调试/</id>
    <published>2020-04-14T07:16:26.000Z</published>
    <updated>2020-04-24T03:26:05.574Z</updated>
    
    <content type="html"><![CDATA[<p>微信打开 <a href="http://debugx5.qq.com" target="_blank" rel="noopener">http://debugx5.qq.com</a><br>选择”信息”tab，勾选”打开TBS内核xxx”一系列选项<br>可扫码打开:<br><img src="http://p0.qhimg.com/t01d3c7cb6c0eaaa281.png" alt="http://debugx5.qq.com"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;微信打开 &lt;a href=&quot;http://debugx5.qq.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://debugx5.qq.com&lt;/a&gt;&lt;br&gt;选择”信息”tab，勾选”打开TBS内核xxx”一系列选项&lt;br&gt;可扫码打开:&lt;
      
    
    </summary>
    
    
      <category term="chrome" scheme="https://frostbelt.github.io/tags/chrome/"/>
    
      <category term="微信" scheme="https://frostbelt.github.io/tags/%E5%BE%AE%E4%BF%A1/"/>
    
  </entry>
  
  <entry>
    <title>vue 打包减小 moment 体积</title>
    <link href="https://frostbelt.github.io/2020/03/17/vue-%E6%89%93%E5%8C%85%E5%87%8F%E5%B0%8F-moment-%E4%BD%93%E7%A7%AF/"/>
    <id>https://frostbelt.github.io/2020/03/17/vue-打包减小-moment-体积/</id>
    <published>2020-03-17T01:32:52.000Z</published>
    <updated>2020-03-17T01:36:34.856Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>moment 体积较大，但一般只使用到几种语言，应该过滤一下</p></blockquote><p>vue cli 的 vue.config.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">configureWebpack: config =&gt; &#123;</span><br><span class="line">  config.plugins.push(</span><br><span class="line">    // 提取 monent 有效部分，减小体积。压缩前 611k-&gt;163k</span><br><span class="line">    // en-gb 英国 en-us 美国(默认值) vi 越南 zh-cn 中国</span><br><span class="line">    new webpack.ContextReplacementPlugin(/moment[\/\\]locale$/, /^\.\/(zh-cn|vi)$/i)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">注: 在 moment locale 目录下并没有 en-us，默认为 en-us</span><br><span class="line">moment 的这一设计也遭到不少 diss</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;moment 体积较大，但一般只使用到几种语言，应该过滤一下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;vue cli 的 vue.config.js&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;t
      
    
    </summary>
    
    
      <category term="moment" scheme="https://frostbelt.github.io/tags/moment/"/>
    
      <category term="vue" scheme="https://frostbelt.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>vue cli 国际化</title>
    <link href="https://frostbelt.github.io/2020/03/13/vue-cli-%E5%9B%BD%E9%99%85%E5%8C%96/"/>
    <id>https://frostbelt.github.io/2020/03/13/vue-cli-国际化/</id>
    <published>2020-03-13T01:43:44.000Z</published>
    <updated>2020-03-13T01:56:07.711Z</updated>
    
    <content type="html"><![CDATA[<p>使用<code>vue-i18n</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-i18n --save</span><br></pre></td></tr></table></figure></p><p>配置 main.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// i18n，国际化</span><br><span class="line">import VueI18n from &apos;vue-i18n&apos;</span><br><span class="line">Vue.use(VueI18n)</span><br><span class="line">const i18n = new VueI18n(&#123;</span><br><span class="line">  locale: &apos;zh&apos;,</span><br><span class="line">  messages: &#123;</span><br><span class="line">    &apos;zh&apos;: require(&apos;@/assets/languages/zh.json&apos;),</span><br><span class="line">    &apos;en&apos;: require(&apos;@/assets/languages/en.json&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">let app = new Vue(&#123;</span><br><span class="line">router,</span><br><span class="line">  store,</span><br><span class="line">  // i18n，国际化</span><br><span class="line">  i18n,</span><br><span class="line">render: h =&gt; h(App)</span><br><span class="line">&#125;).$mount(&apos;#app&apos;);</span><br></pre></td></tr></table></figure></p><p>@/assets/languages/zh.json<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;common&quot; : &#123;</span><br><span class="line">    &quot;app&quot; : &#123;</span><br><span class="line">      &quot;name&quot; : &quot;app 名称&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>@/assets/languages/en.json<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;common&quot; : &#123;</span><br><span class="line">    &quot;app&quot; : &#123;</span><br><span class="line">      &quot;name&quot; : &quot;app name&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>xxx.vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">template:</span><br><span class="line">&#123;&#123;$t(&quot;common.app.name&quot;)&#125;&#125;</span><br><span class="line">js:</span><br><span class="line">this.$t(&quot;common.app.name&quot;)</span><br></pre></td></tr></table></figure></p><p>切换语言<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$i18n.locale = &apos;en&apos;;</span><br></pre></td></tr></table></figure></p><p>注:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. 应该根据用户的地域设置默认语言</span><br><span class="line">2. 用户切换语言后，应该种 cookie</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;使用&lt;code&gt;vue-i18n&lt;/code&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;
      
    
    </summary>
    
    
      <category term="vue" scheme="https://frostbelt.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>vue cli 中图片的使用</title>
    <link href="https://frostbelt.github.io/2020/03/13/vue-cli-%E4%B8%AD%E5%9B%BE%E7%89%87%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://frostbelt.github.io/2020/03/13/vue-cli-中图片的使用/</id>
    <published>2020-03-13T01:31:42.000Z</published>
    <updated>2020-03-13T01:34:06.300Z</updated>
    
    <content type="html"><![CDATA[<p>vue.config.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  chainWebpack: config =&gt; &#123;</span><br><span class="line">    // images alias</span><br><span class="line">    config.resolve.alias.set(&apos;@img&apos;, path.resolve(__dirname, &apos;src/assets/images&apos;))</span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在 js 中使用图片<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">require(&apos;@img/ksp_72.png&apos;)</span><br><span class="line">eg: </span><br><span class="line">:style=&quot;&apos;background:url(&apos; + require(&apos;@img/ksp_72.png&apos;) + &apos;)&apos;&quot;</span><br></pre></td></tr></table></figure></p><p>在 scss 中使用图片<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&apos;~@img/ksp_72.png&apos; </span><br><span class="line">eg: </span><br><span class="line">background: url(~@img/ksp_72.png)</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;vue.config.js&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/
      
    
    </summary>
    
    
      <category term="vue" scheme="https://frostbelt.github.io/tags/vue/"/>
    
  </entry>
  
</feed>
