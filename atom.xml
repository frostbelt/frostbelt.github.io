<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>frostbelt&#39;s home</title>
  
  <subtitle>想学更多有意思的东西，想做自己的网站，想学画画</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://frostbelt.github.io/"/>
  <updated>2019-04-11T02:35:47.460Z</updated>
  <id>https://frostbelt.github.io/</id>
  
  <author>
    <name>frostbelt</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>vue-cli store</title>
    <link href="https://frostbelt.github.io/2019/04/11/vue-cli-store/"/>
    <id>https://frostbelt.github.io/2019/04/11/vue-cli-store/</id>
    <published>2019-04-11T02:17:41.000Z</published>
    <updated>2019-04-11T02:35:47.460Z</updated>
    
    <content type="html"><![CDATA[<p>store.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import Vuex from &apos;vuex&apos;</span><br><span class="line">import axios from &apos;./assets/js/axios&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    userInfo : &#123;&#125;,</span><br><span class="line">    xxx : 0,</span><br><span class="line">  &#125;,</span><br><span class="line">  // 只有 mutations 可以更新 state</span><br><span class="line">  // 但 mutations 必须是同步方法，如果是异步使用 actions</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    setUserInfo (state, userInfo) &#123;</span><br><span class="line">      state.userInfo = userInfo;</span><br><span class="line">    &#125;,</span><br><span class="line">    setXXX (state, val)&#123;</span><br><span class="line">      state.xxx = val;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    // actions 异步获取数据后调用 mutations 更新 state</span><br><span class="line">    updateUserInfo (context) &#123;</span><br><span class="line">      axios.get(&quot;/api/getUserInfo&quot;)</span><br><span class="line">      .then(res =&gt; &#123;</span><br><span class="line">        context.commit(&apos;setUserInfo&apos;, res.data);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><a id="more"></a><p>main.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 别忘了把 store 挂载到 Vue 上</span><br><span class="line">import store from &apos;./store&apos;</span><br><span class="line">let app = new Vue(&#123;</span><br><span class="line">router,</span><br><span class="line">store,</span><br><span class="line">render: h =&gt; h(App)</span><br><span class="line">&#125;).$mount(&apos;#app&apos;);</span><br></pre></td></tr></table></figure></p><p>组件中:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// 可以直接使用 state</span><br><span class="line">this.$store.state.xxx</span><br><span class="line">// 可以将 state 变量绑定到计算属性</span><br><span class="line">computed : &#123;</span><br><span class="line">  userInfo () &#123;</span><br><span class="line">    return this.$store.state.userInfo;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">// 可以使用 mapState 将多个变量绑定到计算属性</span><br><span class="line">import &#123; mapActions, mapState &#125; from &apos;vuex&apos;</span><br><span class="line">computed : &#123;</span><br><span class="line">  ...mapState([</span><br><span class="line">    &apos;userInfo&apos;,</span><br><span class="line">    &apos;xxx&apos;</span><br><span class="line">  ]),</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">// 可以调用 store 的 mutations 更新 state</span><br><span class="line">this.$store.commit(&apos;setXXX&apos;, 1);</span><br><span class="line">// 可以调用 store 的 actions 更新 state</span><br><span class="line">this.$store.dispatch(&apos;updateUserInfo&apos;);</span><br><span class="line">// 可以使用 mapActions 将多个 actions 映射到 methods</span><br><span class="line">import &#123; mapActions, mapState &#125; from &apos;vuex&apos;</span><br><span class="line">methods : &#123;</span><br><span class="line">  ...mapActions([</span><br><span class="line">    &apos;updateUserInfo&apos;</span><br><span class="line">  ]),</span><br><span class="line">&#125;,</span><br><span class="line">mounted () &#123;</span><br><span class="line">  this.updateUserInfo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;store.js&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;import Vue from &amp;apos;vue&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import Vuex from &amp;apos;vuex&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import axios from &amp;apos;./assets/js/axios&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Vue.use(Vuex)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;export default new Vuex.Store(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  state: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    userInfo : &amp;#123;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    xxx : 0,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // 只有 mutations 可以更新 state&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // 但 mutations 必须是同步方法，如果是异步使用 actions&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  mutations: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    setUserInfo (state, userInfo) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      state.userInfo = userInfo;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    setXXX (state, val)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      state.xxx = val;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  actions: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // actions 异步获取数据后调用 mutations 更新 state&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    updateUserInfo (context) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      axios.get(&amp;quot;/api/getUserInfo&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      .then(res =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        context.commit(&amp;apos;setUserInfo&amp;apos;, res.data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="vue" scheme="https://frostbelt.github.io/tags/vue/"/>
    
      <category term="vuex" scheme="https://frostbelt.github.io/tags/vuex/"/>
    
  </entry>
  
  <entry>
    <title>Laravel 注册登录</title>
    <link href="https://frostbelt.github.io/2019/04/10/Laravel-%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95/"/>
    <id>https://frostbelt.github.io/2019/04/10/Laravel-注册登录/</id>
    <published>2019-04-10T06:30:30.000Z</published>
    <updated>2019-04-10T06:57:02.928Z</updated>
    
    <content type="html"><![CDATA[<p>Laravel 初始化项目见 <a href="https://frostbelt.github.io/2018/12/07/laravel-%E5%88%9D%E5%A7%8B%E5%8C%96/">laravel 初始化</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">查看 laravel 版本</span><br><span class="line">$ php artisan --version</span><br><span class="line">Laravel Framework version 5.2.45</span><br><span class="line"></span><br><span class="line">Laravel 通过运行如下 artisan 命令可快速生成认证所需要的路由和视图</span><br><span class="line">$ php artisan make:auth</span><br><span class="line">即自动生成了如下文件:</span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── app</span><br><span class="line">│   ├── Http</span><br><span class="line">│   │   ├── Controllers</span><br><span class="line">│   │   │   ├── Auth</span><br><span class="line">│   │   │   │   ├── AuthController.php</span><br><span class="line">│   │   │   │   └── PasswordController.php</span><br><span class="line">│   │   │   ├── Controller.php</span><br><span class="line">│   │   │   └── HomeController.php</span><br><span class="line">│   │   ├── Kernel.php</span><br><span class="line">│   │   ├── Middleware</span><br><span class="line">│   │   │   ├── Authenticate.php</span><br><span class="line">│   │   └── routes.php</span><br><span class="line">│   └── User.php</span><br><span class="line">├── database</span><br><span class="line">│   ├── migrations</span><br><span class="line">│   │   ├── 2014_10_12_000000_create_users_table.php</span><br><span class="line">│   │   └── 2014_10_12_100000_create_password_resets_table.php</span><br><span class="line">├── resources</span><br><span class="line">│   └── views</span><br><span class="line">│       ├── auth</span><br><span class="line">│       │   ├── emails</span><br><span class="line">│       │   │   └── password.blade.php</span><br><span class="line">│       │   ├── login.blade.php</span><br><span class="line">│       │   ├── passwords</span><br><span class="line">│       │   │   ├── email.blade.php</span><br><span class="line">│       │   │   └── reset.blade.php</span><br><span class="line">│       │   └── register.blade.php</span><br><span class="line">│       ├── home.blade.php</span><br><span class="line">│       ├── layouts</span><br><span class="line">│       │   └── app.blade.php</span><br><span class="line">│       └── welcome.blade.php</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">我们简单的介绍 Laravel 自动干了些什么:</span><br><span class="line">1. 创建了用户数据表结构 database/migrations</span><br><span class="line">2. 创建了用户登录校验中间件 Middleware/Authenticate</span><br><span class="line">3. 创建了登录后跳转到的 Controller/view/route，并在 HomeController 的构造函数中调用 auth 中间件校验登录状态</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">我们还需要干什么:</span><br><span class="line">1. 创建数据库，数据表</span><br><span class="line">先在 .env, config/database.php 中修改 mysql 配置(mysql 用户名，密码，IP，端口，数据库名)</span><br><span class="line">在 mysql 中手动创建对应的数据库，然后运行</span><br><span class="line">$ php artisan migrate</span><br><span class="line">即生成数据表</span><br><span class="line">2. 已经可以正常注册登录了！就是这么简单</span><br><span class="line">如果 Laravel 自动生成的登录页不能满足需求，自行修改下 views</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Laravel 初始化项目见 &lt;a href=&quot;https://frostbelt.github.io/2018/12/07/laravel-%E5%88%9D%E5%A7%8B%E5%8C%96/&quot;&gt;laravel 初始化&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;查看 laravel 版本&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ php artisan --version&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Laravel Framework version 5.2.45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Laravel 通过运行如下 artisan 命令可快速生成认证所需要的路由和视图&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ php artisan make:auth&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;即自动生成了如下文件:&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="laravel" scheme="https://frostbelt.github.io/tags/laravel/"/>
    
      <category term="mysql" scheme="https://frostbelt.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>上传大文件或 POST body 太大报错500解决</title>
    <link href="https://frostbelt.github.io/2019/04/04/%E4%B8%8A%E4%BC%A0%E5%A4%A7%E6%96%87%E4%BB%B6%E6%88%96-POST-body-%E5%A4%AA%E5%A4%A7%E6%8A%A5%E9%94%99500%E8%A7%A3%E5%86%B3/"/>
    <id>https://frostbelt.github.io/2019/04/04/上传大文件或-POST-body-太大报错500解决/</id>
    <published>2019-04-04T09:11:09.000Z</published>
    <updated>2019-04-04T09:17:50.956Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>laravel post 上传文件，上传小文件不报错，大文件报错</p></blockquote><p>尝试修改配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx conf: client_max_body_size</span><br><span class="line">php.ini: upload_max_filesize</span><br></pre></td></tr></table></figure></p><p>还是不行，看错误日志是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2019/04/04 17:03:31 [crit] 475#0: *14 open() &quot;/xxx/nginx/tmp/client_body/0000000002&quot; failed (13: Permission denied), client: 218.30.116.8, server: xxx, request: &quot;POST /xxx HTTP/1.1&quot;, host: &quot;xxx&quot;</span><br></pre></td></tr></table></figure></p><p>原来是临时文件目录权限问题，授权即可</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;laravel post 上传文件，上传小文件不报错，大文件报错&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;尝试修改配置&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter
      
    
    </summary>
    
    
      <category term="laravel" scheme="https://frostbelt.github.io/tags/laravel/"/>
    
      <category term="php" scheme="https://frostbelt.github.io/tags/php/"/>
    
      <category term="nginx" scheme="https://frostbelt.github.io/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>Mac 处理 Adobe Genuine Software Integrity Service</title>
    <link href="https://frostbelt.github.io/2019/03/13/Mac-%E5%A4%84%E7%90%86-Adobe-Genuine-Software-Integrity-Service/"/>
    <id>https://frostbelt.github.io/2019/03/13/Mac-处理-Adobe-Genuine-Software-Integrity-Service/</id>
    <published>2019-03-13T05:55:07.000Z</published>
    <updated>2019-03-13T06:04:25.554Z</updated>
    
    <content type="html"><![CDATA[<p>使用”不明来路”的 ps, 某一天突然弹出个窗，必须点一下才能关掉，而且过一会又弹出来<br><img src="/images/adobe_盗版.png" alt="adobe_盗版"></p><a id="more"></a><p>解决方法:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 关闭所有 Adobe 软件</span><br><span class="line">2. $ sudo rm /Library/Application\ Support/Adobe/AdobeGCClient/AdobeGCClient.app/Contents/MacOS/AdobeGCClient</span><br><span class="line">3. 启动 ps, 就正常了</span><br></pre></td></tr></table></figure></p><p>引自<a href="https://www.douban.com/note/670243843/?from=author" target="_blank" rel="noopener">【搞机录】破解Adobe Photoshop的正版校验Genuine Integrity Service-L1/E16</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用”不明来路”的 ps, 某一天突然弹出个窗，必须点一下才能关掉，而且过一会又弹出来&lt;br&gt;&lt;img src=&quot;/images/adobe_盗版.png&quot; alt=&quot;adobe_盗版&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="mac" scheme="https://frostbelt.github.io/tags/mac/"/>
    
      <category term="adobe" scheme="https://frostbelt.github.io/tags/adobe/"/>
    
  </entry>
  
  <entry>
    <title>车辆违章处理实录</title>
    <link href="https://frostbelt.github.io/2019/01/21/%E8%BD%A6%E8%BE%86%E8%BF%9D%E7%AB%A0%E5%A4%84%E7%90%86%E5%AE%9E%E5%BD%95/"/>
    <id>https://frostbelt.github.io/2019/01/21/车辆违章处理实录/</id>
    <published>2019-01-21T02:11:29.000Z</published>
    <updated>2019-01-21T03:32:13.090Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>生活城市: 北京<br>车牌: 石家庄<br>违章地点: 山西晋中</p></blockquote><h3 id="哪些可以在线处理，哪些需要去交通队处理？"><a href="#哪些可以在线处理，哪些需要去交通队处理？" class="headerlink" title="哪些可以在线处理，哪些需要去交通队处理？"></a>哪些可以在线处理，哪些需要去交通队处理？</h3><p>对于电子监控记录:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">不扣分只罚款的可以在线处理(交管12123APP)</span><br><span class="line">扣分的需要去交通队处理</span><br><span class="line">(据说本地车在本地违章，扣分也可以处理，不清楚)</span><br><span class="line">可以尝试在12123上处理，不能在线处理会有弹窗提示</span><br></pre></td></tr></table></figure></p><p>对于罚单:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">不清楚，遇到再补</span><br></pre></td></tr></table></figure></p><a id="more"></a><h3 id="需要窗口处理的，是去任意交通队都可以吗？"><a href="#需要窗口处理的，是去任意交通队都可以吗？" class="headerlink" title="需要窗口处理的，是去任意交通队都可以吗？"></a>需要窗口处理的，是去任意交通队都可以吗？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">需要去牌照所在地或违章所在地的交通队处理！</span><br><span class="line">比如以上情况，石家庄牌照，在山西晋中违章，只能去石家庄或山西晋中的交通队处理</span><br><span class="line">北京、廊坊、大同...都不行</span><br></pre></td></tr></table></figure><h3 id="为什么12123和”交通安全综合服务管理平台”或支付宝上的罚款数不一致"><a href="#为什么12123和”交通安全综合服务管理平台”或支付宝上的罚款数不一致" class="headerlink" title="为什么12123和”交通安全综合服务管理平台”或支付宝上的罚款数不一致?"></a>为什么12123和”交通安全综合服务管理平台”或支付宝上的罚款数不一致?</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">比如以上情况，石家庄牌照，在山西晋中违章</span><br><span class="line">&quot;交通安全综合服务管理平台&quot;上显示罚款100元</span><br><span class="line">支付宝上显示罚款100元</span><br><span class="line">12123上显示罚款200元</span><br><span class="line">为什么会有这种情况？</span><br><span class="line">如果去牌照所在地(石家庄)处理，就是100元，在北京处理，就是200元</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;生活城市: 北京&lt;br&gt;车牌: 石家庄&lt;br&gt;违章地点: 山西晋中&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;哪些可以在线处理，哪些需要去交通队处理？&quot;&gt;&lt;a href=&quot;#哪些可以在线处理，哪些需要去交通队处理？&quot; class=&quot;headerlink&quot; title=&quot;哪些可以在线处理，哪些需要去交通队处理？&quot;&gt;&lt;/a&gt;哪些可以在线处理，哪些需要去交通队处理？&lt;/h3&gt;&lt;p&gt;对于电子监控记录:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;不扣分只罚款的可以在线处理(交管12123APP)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;扣分的需要去交通队处理&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(据说本地车在本地违章，扣分也可以处理，不清楚)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;可以尝试在12123上处理，不能在线处理会有弹窗提示&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;对于罚单:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;不清楚，遇到再补&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="生活" scheme="https://frostbelt.github.io/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="车" scheme="https://frostbelt.github.io/tags/%E8%BD%A6/"/>
    
  </entry>
  
  <entry>
    <title>icu4c问题解决</title>
    <link href="https://frostbelt.github.io/2019/01/17/icu4c%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
    <id>https://frostbelt.github.io/2019/01/17/icu4c问题解决/</id>
    <published>2019-01-17T09:50:55.000Z</published>
    <updated>2019-01-17T10:06:35.550Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>启动 php 时，报错<br>dyld: Library not loaded: /usr/local/opt/icu4c/lib/libicui18n.62.dylib</p></blockquote><a id="more"></a><h3 id="查看已安装-icu4c-版本"><a href="#查看已安装-icu4c-版本" class="headerlink" title="查看已安装 icu4c 版本"></a>查看已安装 icu4c 版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ brew info icu4c</span><br><span class="line">/usr/local/Cellar/icu4c/63.1 (254 files, 68.4MB)</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">如果已安装 62.1，切换到 62.1 即可</span><br><span class="line">$ brew switch icu4c 62.1</span><br></pre></td></tr></table></figure><h3 id="安装-62-1"><a href="#安装-62-1" class="headerlink" title="安装 62.1"></a>安装 62.1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget http://download.icu-project.org/files/icu4c/62.1/icu4c-62_1-src.tgz</span><br><span class="line">tar xzvf icu4c-62_1-src.tgz</span><br><span class="line">cd icu/source</span><br><span class="line">./runConfigureICU MacOSX </span><br><span class="line">make </span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h3 id="重新启动-php"><a href="#重新启动-php" class="headerlink" title="重新启动 php"></a>重新启动 php</h3>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;启动 php 时，报错&lt;br&gt;dyld: Library not loaded: /usr/local/opt/icu4c/lib/libicui18n.62.dylib&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Mac" scheme="https://frostbelt.github.io/tags/Mac/"/>
    
      <category term="icu4c" scheme="https://frostbelt.github.io/tags/icu4c/"/>
    
  </entry>
  
  <entry>
    <title>阿里云日志服务使用实录</title>
    <link href="https://frostbelt.github.io/2019/01/11/%E9%98%BF%E9%87%8C%E4%BA%91%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1%E4%BD%BF%E7%94%A8%E5%AE%9E%E5%BD%95/"/>
    <id>https://frostbelt.github.io/2019/01/11/阿里云日志服务使用实录/</id>
    <published>2019-01-11T08:00:17.000Z</published>
    <updated>2019-01-11T10:16:21.266Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>经常感叹公司的日志服务不好用吗？不实时、提个报表需求要层层审批还得等一周、可视化要自己搞、加个字段要跪求给解析…</p></blockquote><p>是时候摆脱他们了，Now!<br>阿里云日志服务官网(<a href="https://www.aliyun.com/product/sls" target="_blank" rel="noopener">https://www.aliyun.com/product/sls</a>)</p><a id="more"></a><h2 id="使用阿里云日志服务有什么优点"><a href="#使用阿里云日志服务有什么优点" class="headerlink" title="使用阿里云日志服务有什么优点?"></a>使用阿里云日志服务有什么优点?</h2><h3 id="1-自定义打点字段"><a href="#1-自定义打点字段" class="headerlink" title="1. 自定义打点字段"></a>1. 自定义打点字段</h3><p>想加什么字段就加什么字段，然后在日志服务后台添加索引就可以了。当然，也不要乱加，以免自己绕晕了。</p><h3 id="2-支持实时查询"><a href="#2-支持实时查询" class="headerlink" title="2. 支持实时查询"></a>2. 支持实时查询</h3><p>对于报警、定位 Bug，日志可实时查询是必须的！</p><h3 id="3-查询方便"><a href="#3-查询方便" class="headerlink" title="3. 查询方便"></a>3. 查询方便</h3><p>可以按关键字模糊查询，也可以直接写 sql，可选任意时间范围，查询速度是嗖嗖的。常用的查询语句可以保存为“快速查询”</p><h3 id="4-可视化"><a href="#4-可视化" class="headerlink" title="4. 可视化"></a>4. 可视化</h3><p>可以创建仪表盘，支持多种 charts</p><h3 id="5-支持告警"><a href="#5-支持告警" class="headerlink" title="5. 支持告警"></a>5. 支持告警</h3><p>可以自定义告警，支持短信、通知、钉钉等多种方式</p><h3 id="6-API-查询"><a href="#6-API-查询" class="headerlink" title="6. API 查询"></a>6. API 查询</h3><p>如果上述功能还不能满足需求，或者不能常驻电脑旁(目前日志服务后台只有 PC 版)，可以通过 API 获取数据后自行实现</p><h2 id="具体使用流程"><a href="#具体使用流程" class="headerlink" title="具体使用流程"></a>具体使用流程</h2><h3 id="1-申请"><a href="#1-申请" class="headerlink" title="1. 申请"></a>1. 申请</h3><p>阿里云-&gt;日志服务-&gt;Project管理 创建Project<br>选择所属地域，记一下，打点时需要<br><img src="/images/alilog_create_project.png" alt="alilog_create_project"></p><p>创建好后点Project名称进入Logstore列表 创建Logstore<br>因为我们是页面直接打点，这里要打开 WebTracking，其它默认即可<br><img src="/images/alilog_create_logstore.png" alt="alilog_create_logstore"></p><h3 id="2-打点"><a href="#2-打点" class="headerlink" title="2. 打点"></a>2. 打点</h3><p>参考<a href="https://help.aliyun.com/document_detail/28981.html" target="_blank" rel="noopener">接入指南</a>，这里我们选择<a href="https://help.aliyun.com/document_detail/31752.html" target="_blank" rel="noopener">Web Tracking</a><br>在<code>步骤2 收集日志数据</code>中下载JS SDK(loghub-tracking.js)，可以看一下代码，没几行，就一个意思，向某个地址发打点请求，可以根据自己的项目做下优化。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">AliLogTracker(host,project,logstore) 初始化时的三个参数</span><br><span class="line">host: 申请Project时选择的所属地域对应的host，我这里选择的是&quot;华北2(北京)&quot;，对应的host为cn-beijing.log.aliyuncs.com，可以在[服务入口](https://help.aliyun.com/document_detail/29008.html)查询</span><br><span class="line">project: Project 名</span><br><span class="line">logstore: Logstore 名</span><br><span class="line">那么就向 &apos;http://&apos; + project + &apos;.&apos; + host + &apos;/logstores/&apos; + logstore + &apos;/track?APIVersion=0.6.0&apos; 发请求就可以了</span><br></pre></td></tr></table></figure></p><p>上面说了，打点时想加什么字段就加什么字段。字段示例:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">type: 打点类型，取值范围(access/ajaxerrro/staticerror/jserror/...)</span><br><span class="line">url: 页面地址</span><br><span class="line">ua: 用户ua</span><br><span class="line">request: type 为 ajaxerrro 时，request 为接口地址</span><br><span class="line">ext: 扩展字段</span><br><span class="line">mid: 用户标识ID</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><p>完整的打点请求示例:<br><a href="http://projectname.cn-beijing.log.aliyuncs.com/logstores/logstorename/track?APIVersion=0.6.0&amp;type=access&amp;mid=123&amp;url=xxx&amp;ua=xxx" target="_blank" rel="noopener">http://projectname.cn-beijing.log.aliyuncs.com/logstores/logstorename/track?APIVersion=0.6.0&amp;type=access&amp;mid=123&amp;url=xxx&amp;ua=xxx</a></p><h3 id="3-查看原始日志"><a href="#3-查看原始日志" class="headerlink" title="3. 查看原始日志"></a>3. 查看原始日志</h3><p>在 Logstore 列表中点“预览”<br><img src="/images/alilog_log_view.png" alt="alilog_log_view"><br>看到已经有日志进来<br><img src="/images/alilog_log_src.png" alt="alilog_log_src"></p><h3 id="4-查询分析"><a href="#4-查询分析" class="headerlink" title="4. 查询分析"></a>4. 查询分析</h3><p>在 Logstore 列表中点“查询”，可以按关键字模糊查询，也可以直接写 sql 查询<br>先建立索引:<br>查询分析属性-&gt;设置 中添加“指定字段查询”<br>给打点字段 type/url/ua 等建立索引<br>具体的查询方式参考<a href="https://help.aliyun.com/document_detail/53608.html" target="_blank" rel="noopener">实时分析简介</a>，这里举几个例子:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Android(打点中包含某字符串)</span><br><span class="line">* and ua: Android(某字段中包含某字符串)</span><br><span class="line">| SELECT type, COUNT(*) as count FROM log GROUP BY type(打点总数，按type归类)</span><br></pre></td></tr></table></figure></p><p>常用的查询语句可以保存为“快速查询”</p><h3 id="5-可视化"><a href="#5-可视化" class="headerlink" title="5. 可视化"></a>5. 可视化</h3><p>举个例子，我们需要资源加载失败的实时数量，按分钟计:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">| SELECT date_format(t, &apos;%H:%i:%s&apos;) as time, count FROM (SELECT date_trunc(&apos;minute&apos;, __time__) as t, COUNT(1) as count FROM log WHERE type=&apos;static&apos;  GROUP BY t ORDER BY t LIMIT 1000)</span><br></pre></td></tr></table></figure></p><p>查询出结果后可以“添加到仪表盘”<br><img src="/images/alilog_chart.png" alt="alilog_chart"><br>将你关心的数据都添加到仪表盘，长这样:<br><img src="/images/alilog_charts.png" alt="alilog_charts"><br>还支持地图哦~<br><img src="/images/alilog_chart_map.png" alt="alilog_chart_map"></p><h3 id="6-告警"><a href="#6-告警" class="headerlink" title="6. 告警"></a>6. 告警</h3><p>点chart右上角，可以新建告警<br><img src="/images/alilog_create_alert.png" alt="alilog_create_alert"><br>定义告警的阈值，执行间隔，通知方式等<br><img src="/images/alilog_edit_alert.png" alt="alilog_edit_alert"><br><img src="/images/alilog_edit_alert2.png" alt="alilog_edit_alert2"><br>后台告警历史<br><img src="/images/alilog_alert_history.png" alt="alilog_alert_history"><br>短信收到的告警<br><img src="/images/alilog_alert_phone.jpg" alt="alilog_alert_phone"></p><h3 id="7-API查询"><a href="#7-API查询" class="headerlink" title="7. API查询"></a>7. API查询</h3><p>如果上述功能还不能满足需求，可以通过 API 获取数据后自行实现，参考<a href="https://help.aliyun.com/document_detail/29007.html" target="_blank" rel="noopener">API 参考</a><br>对于前端来说，token呀签名呀还是挺烦的。官方的PHP SDK为 <a href="https://github.com/aliyun/aliyun-log-php-sdk" target="_blank" rel="noopener">https://github.com/aliyun/aliyun-log-php-sdk</a> ，但并没有调通，最后自己摸索的，折腾了一天才跑通[汗]</p><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>阿里的东西用着都挺舒服，现在有用到云服务器ECS、域名解析、日志服务，还有G2和antd，还有蚂蚁森林和蚂蚁庄园算不算。。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;经常感叹公司的日志服务不好用吗？不实时、提个报表需求要层层审批还得等一周、可视化要自己搞、加个字段要跪求给解析…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;是时候摆脱他们了，Now!&lt;br&gt;阿里云日志服务官网(&lt;a href=&quot;https://www.aliyun.com/product/sls&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.aliyun.com/product/sls&lt;/a&gt;)&lt;/p&gt;
    
    </summary>
    
    
      <category term="ali" scheme="https://frostbelt.github.io/tags/ali/"/>
    
      <category term="log" scheme="https://frostbelt.github.io/tags/log/"/>
    
  </entry>
  
  <entry>
    <title>Laravel 增删查改</title>
    <link href="https://frostbelt.github.io/2018/12/29/Laravel-%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9/"/>
    <id>https://frostbelt.github.io/2018/12/29/Laravel-增删查改/</id>
    <published>2018-12-29T08:19:21.000Z</published>
    <updated>2018-12-29T09:11:59.531Z</updated>
    
    <content type="html"><![CDATA[<h3 id="增"><a href="#增" class="headerlink" title="增"></a>增</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 成功返回 true</span><br><span class="line">// 失败报错</span><br><span class="line">$res = DB::table(&apos;user&apos;)-&gt;insert([</span><br><span class="line">  &quot;id&quot; =&gt; &quot;xxx&quot;,</span><br><span class="line">  &quot;username&quot; =&gt; &quot;xxx&quot;,</span><br><span class="line">]);</span><br><span class="line">// 如果已设 id 为自增，新增一条数据并返回 id</span><br><span class="line">$id = DB::table(&apos;user&apos;)-&gt;insertGetId([</span><br><span class="line">  &quot;username&quot; =&gt; &quot;xxx&quot;,</span><br><span class="line">]);</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="删"><a href="#删" class="headerlink" title="删"></a>删</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 成功返回被删除的条数</span><br><span class="line">// 失败返回0</span><br><span class="line">$res = DB::table(&apos;user&apos;)-&gt;where(&apos;id&apos;, &apos;xxx&apos;)-&gt;delete();</span><br><span class="line">$res = DB::table(&apos;user&apos;)-&gt;where(&apos;id&apos;, &apos;&lt;&gt;&apos;, &apos;xxx&apos;)-&gt;delete();</span><br><span class="line">// 清空表</span><br><span class="line">-&gt;truncate();</span><br></pre></td></tr></table></figure><h3 id="查"><a href="#查" class="headerlink" title="查"></a>查</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">// select</span><br><span class="line">-&gt;select(&apos;name&apos;, &apos;email&apos;)</span><br><span class="line">-&gt;select(&apos;username&apos;, &apos;id as openid&apos;)-&gt;get() // 别名</span><br><span class="line">$query = DB::table(&apos;users&apos;)-&gt;select(&apos;name&apos;); // 拼接</span><br><span class="line">$users = $query-&gt;addSelect(&apos;age&apos;)-&gt;get();</span><br><span class="line">-&gt;distinct()  // distinct</span><br><span class="line"></span><br><span class="line">// where</span><br><span class="line">-&gt;where(&apos;id&apos;, &apos;xxx&apos;)  // 相当于 -&gt;where(&apos;id&apos;, &apos;=&apos;, &apos;xxx&apos;)</span><br><span class="line">-&gt;where(&apos;id&apos;, &apos;like&apos;, &apos;%xxx%&apos;)</span><br><span class="line">-&gt;where(&apos;score&apos;, &apos;&gt;&apos;, 0.5)</span><br><span class="line">-&gt;where(&apos;score&apos;, &apos;&gt;=&apos;, 0.5)</span><br><span class="line">-&gt;where(&apos;score&apos;, &apos;&lt;&gt;&apos;, 0.5)</span><br><span class="line">-&gt;whereIn(&apos;id&apos;, [&quot;xxx&quot;, &quot;yyy&quot;])</span><br><span class="line">-&gt;whereNotIn(&apos;id&apos;, [1, 2, 3])</span><br><span class="line">-&gt;whereNull(&apos;username&apos;)</span><br><span class="line">-&gt;whereNotNull(&apos;username&apos;)</span><br><span class="line">-&gt;orWhere(&apos;name&apos;, &apos;John&apos;) // or</span><br><span class="line">-&gt;whereBetween(&apos;votes&apos;, [1, 100])</span><br><span class="line">-&gt;whereNotBetween(&apos;votes&apos;, [1, 100])</span><br><span class="line">-&gt;whereDate(&apos;created_at&apos;, &apos;2018-12-28&apos;)</span><br><span class="line">-&gt;whereMonth(&apos;created_at&apos;, &apos;12&apos;)</span><br><span class="line">-&gt;whereDay(&apos;created_at&apos;, &apos;31&apos;)</span><br><span class="line">-&gt;whereYear(&apos;created_at&apos;, &apos;2018&apos;)</span><br><span class="line">-&gt;whereTime(&apos;created_at&apos;, &apos;=&apos;, &apos;11:20:45&apos;)</span><br><span class="line">-&gt;where([ // 多个条件</span><br><span class="line">  [&apos;id&apos;, &apos;=&apos;, &apos;xxx&apos;],</span><br><span class="line">  [&apos;score&apos;, &apos;&lt;&gt;&apos;, &apos;0.5&apos;],</span><br><span class="line">])</span><br><span class="line">-&gt;where(function ($query) &#123; // function 多用来实现 or</span><br><span class="line">  $query-&gt;where(&apos;votes&apos;, &apos;&gt;&apos;, 100)</span><br><span class="line">    -&gt;orWhere(&apos;title&apos;, &apos;=&apos;, &apos;Admin&apos;);</span><br><span class="line">&#125;)</span><br><span class="line">-&gt;whereColumn(&apos;first_name&apos;, &apos;last_name&apos;)  // 相当于  -&gt;whereColumn(&apos;first_name&apos;, &apos;=&apos;, &apos;last_name&apos;)</span><br><span class="line">-&gt;whereColumn(&apos;updated_at&apos;, &apos;&gt;&apos;, &apos;created_at&apos;)</span><br><span class="line">-&gt;whereColumn([ // 多个条件</span><br><span class="line">  [&apos;first_name&apos;, &apos;=&apos;, &apos;last_name&apos;],</span><br><span class="line">  [&apos;updated_at&apos;, &apos;&gt;&apos;, &apos;created_at&apos;]</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// raw 简单计算、判断</span><br><span class="line">-&gt;selectRaw(&apos;price * ? as price_with_tax&apos;, [1.0825])</span><br><span class="line">-&gt;whereRaw(&apos;price &gt; IF(state = &quot;TX&quot;, ?, 100)&apos;, [200])</span><br><span class="line">-&gt;groupBy(&apos;department&apos;)-&gt;havingRaw(&apos;SUM(price) &gt; ?&apos;, [2500])</span><br><span class="line">-&gt;orderByRaw(&apos;updated_at - created_at DESC&apos;)</span><br><span class="line">// 注: </span><br><span class="line">where子句的作用是在对查询结果进行分组前，将不符合where条件的行去掉，即在分组之前过滤数据，条件中不能包含聚组函数，使用where条件显示特定的行。 </span><br><span class="line">having子句的作用是筛选满足条件的组，即在分组之后过滤数据，条件中经常包含聚组函数，使用having条件显示特定的组，也可以使用多个分组标准进行分组。 </span><br><span class="line">https://www.cnblogs.com/xp796/p/5213880.html</span><br><span class="line"></span><br><span class="line">// groupBy</span><br><span class="line">-&gt;groupBy(&apos;level&apos;)</span><br><span class="line">-&gt;having(&apos;level&apos;, &apos;&gt;=&apos;, 0)</span><br><span class="line">-&gt;groupBy(&apos;first_name&apos;, &apos;status&apos;) // 二级分组</span><br><span class="line"></span><br><span class="line">// order</span><br><span class="line">-&gt;orderBy(&apos;id&apos;, &apos;desc&apos;)</span><br><span class="line">-&gt;orderBy(&apos;id&apos;, &apos;asc&apos;)</span><br><span class="line">-&gt;latest()  // 相当于 -&gt;orderBy(&apos;created_at&apos;, &apos;desc&apos;)</span><br><span class="line">-&gt;oldest()  // 相当于 -&gt;orderBy(&apos;created_at&apos;, &apos;asc&apos;)</span><br><span class="line">-&gt;latest(&apos;updated_at&apos;)  // 相当于 -&gt;orderBy(&apos;updated_at&apos;, &apos;desc&apos;)</span><br><span class="line">-&gt;inRandomOrder() // 乱序</span><br><span class="line"></span><br><span class="line">// 分页 两种写法</span><br><span class="line">-&gt;offset(10)-&gt;limit(5)</span><br><span class="line">-&gt;skip(10)-&gt;take(5)</span><br><span class="line"></span><br><span class="line">// 结果 </span><br><span class="line">// 注: 返回的 item 为 stdClass，取值 $item-&gt;id</span><br><span class="line">// stdClass -&gt; array : $item = json_decode(json_encode($item), true);</span><br><span class="line">-&gt;exists();  // 是否存在，true/false</span><br><span class="line">-&gt;doesntExist();  // 是否不存在</span><br><span class="line">-&gt;first();  // 取满足条件的第一条结果 成功返回该条记录，失败返回 null</span><br><span class="line">-&gt;get();  // 满足条件的所有记录</span><br><span class="line">-&gt;value(&apos;username&apos;);  // 取满足条件的第一条结果的某个字段 成功返回该字段，失败返回 null</span><br><span class="line">-&gt;pluck(&apos;username&apos;);  // 取满足条件的所有记录的 username 数组 成功返回 username 数组，失败返回空数组</span><br><span class="line">-&gt;count();  // 条数 || 0</span><br><span class="line">-&gt;max(&apos;score&apos;); // 最大值</span><br><span class="line">-&gt;avg(&apos;score&apos;); // 平均值</span><br></pre></td></tr></table></figure><h3 id="改"><a href="#改" class="headerlink" title="改"></a>改</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 成功返回修改的条数</span><br><span class="line">// 失败返回 0</span><br><span class="line">$res = DB::table(&apos;user&apos;)</span><br><span class="line">  -&gt;where(&apos;id&apos;, &apos;xxx&apos;)</span><br><span class="line">  -&gt;update([</span><br><span class="line">    &apos;phone&apos; =&gt; &apos;xxx&apos;,</span><br><span class="line">  ]);</span><br><span class="line">// 点个赞 increment/decrement</span><br><span class="line">-&gt;increment(&apos;votes&apos;);</span><br><span class="line">-&gt;increment(&apos;votes&apos;, 5);</span><br><span class="line">-&gt;decrement(&apos;votes&apos;);</span><br><span class="line">-&gt;decrement(&apos;votes&apos;, 5);</span><br><span class="line">-&gt;increment(&apos;votes&apos;, 1, [&apos;name&apos; =&gt; &apos;John&apos;]);  // 相当于 -&gt;where(&apos;name&apos;, &apos;John&apos;)-&gt;increment(&apos;votes&apos;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;增&quot;&gt;&lt;a href=&quot;#增&quot; class=&quot;headerlink&quot; title=&quot;增&quot;&gt;&lt;/a&gt;增&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// 成功返回 true&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 失败报错&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$res = DB::table(&amp;apos;user&amp;apos;)-&amp;gt;insert([&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;quot;id&amp;quot; =&amp;gt; &amp;quot;xxx&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;quot;username&amp;quot; =&amp;gt; &amp;quot;xxx&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 如果已设 id 为自增，新增一条数据并返回 id&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$id = DB::table(&amp;apos;user&amp;apos;)-&amp;gt;insertGetId([&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;quot;username&amp;quot; =&amp;gt; &amp;quot;xxx&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="laravel" scheme="https://frostbelt.github.io/tags/laravel/"/>
    
      <category term="mysql" scheme="https://frostbelt.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>dva Form.create() 使用问题</title>
    <link href="https://frostbelt.github.io/2018/12/29/dva-Form-create-%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98/"/>
    <id>https://frostbelt.github.io/2018/12/29/dva-Form-create-使用问题/</id>
    <published>2018-12-29T07:47:19.000Z</published>
    <updated>2018-12-29T08:12:59.501Z</updated>
    
    <content type="html"><![CDATA[<p>这样有问题:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class loginPage extends React.Components &#123;</span><br><span class="line">  ...</span><br><span class="line">  handleSubmit (e) &#123;</span><br><span class="line">    this.props.form.validateFields((err, values) =&gt; &#123;</span><br><span class="line">      this.props.dispatch...</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">  render () &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;Form onSubmit=&#123;handleSubmit.bind(this)&#125;&gt;</span><br><span class="line">        &lt;Form.Item&gt;</span><br><span class="line">          &#123;getFieldDecorator(&apos;username&apos;, &#123;</span><br><span class="line">            rules: [&#123; required: true, message: &apos;请输入您的邮箱!&apos; &#125;],</span><br><span class="line">          &#125;)(</span><br><span class="line">            &lt;Input prefix=&#123;&lt;Icon type=&quot;user&quot; style=&#123;&#123; color: &apos;rgba(0,0,0,.25)&apos; &#125;&#125; /&gt;&#125; placeholder=&quot;邮箱&quot; onChange=&#123;</span><br><span class="line">              e =&gt; &#123;</span><br><span class="line">                this.props.dispatch...</span><br><span class="line">              &#125;</span><br><span class="line">            &#125; /&gt;</span><br><span class="line">          )&#125;</span><br><span class="line">        &lt;/Form.Item&gt;</span><br><span class="line">        &lt;Form.Item&gt;</span><br><span class="line">          &lt;Button type=&quot;primary&quot; htmlType=&quot;submit&quot; onClick=&#123;</span><br><span class="line">            e =&gt; &#123;</span><br><span class="line">              this.props.dispatch...</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;&gt;登录&lt;/Button&gt;</span><br><span class="line">        &lt;/Form.Item&gt;</span><br><span class="line">      &lt;/Form&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line">export default connect((&#123; loginData &#125;) =&gt; (&#123; loginData &#125;))(Form.create()(loginPage));</span><br></pre></td></tr></table></figure></p><a id="more"></a><p>以上各处的 dispatch 都失效了<br>改为:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">const loginPage = (&#123;</span><br><span class="line">  loginData,</span><br><span class="line">  dispatch,</span><br><span class="line">  form: &#123;</span><br><span class="line">    getFieldDecorator,</span><br><span class="line">    validateFields,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;) =&gt; &#123;</span><br><span class="line">  const handleSubmit = (e) =&gt; &#123;</span><br><span class="line">    validateFields((err, values) =&gt; &#123;</span><br><span class="line">      dispatch...</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">  return (</span><br><span class="line">    ...</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">export default connect((&#123; loginData &#125;) =&gt; (&#123; loginData &#125;))(Form.create()(loginPage));</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这样有问题:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;class loginPage extends React.Components &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  handleSubmit (e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    this.props.form.validateFields((err, values) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      this.props.dispatch...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  render () &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;lt;Form onSubmit=&amp;#123;handleSubmit.bind(this)&amp;#125;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;Form.Item&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#123;getFieldDecorator(&amp;apos;username&amp;apos;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            rules: [&amp;#123; required: true, message: &amp;apos;请输入您的邮箱!&amp;apos; &amp;#125;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#125;)(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;lt;Input prefix=&amp;#123;&amp;lt;Icon type=&amp;quot;user&amp;quot; style=&amp;#123;&amp;#123; color: &amp;apos;rgba(0,0,0,.25)&amp;apos; &amp;#125;&amp;#125; /&amp;gt;&amp;#125; placeholder=&amp;quot;邮箱&amp;quot; onChange=&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              e =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                this.props.dispatch...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          )&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;/Form.Item&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;Form.Item&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;lt;Button type=&amp;quot;primary&amp;quot; htmlType=&amp;quot;submit&amp;quot; onClick=&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            e =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              this.props.dispatch...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &amp;#125;&amp;gt;登录&amp;lt;/Button&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;/Form.Item&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;lt;/Form&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;export default connect((&amp;#123; loginData &amp;#125;) =&amp;gt; (&amp;#123; loginData &amp;#125;))(Form.create()(loginPage));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="antd" scheme="https://frostbelt.github.io/tags/antd/"/>
    
      <category term="react" scheme="https://frostbelt.github.io/tags/react/"/>
    
      <category term="dva" scheme="https://frostbelt.github.io/tags/dva/"/>
    
  </entry>
  
  <entry>
    <title>dva 项目初始化</title>
    <link href="https://frostbelt.github.io/2018/12/27/dva-%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96/"/>
    <id>https://frostbelt.github.io/2018/12/27/dva-项目初始化/</id>
    <published>2018-12-27T06:35:26.000Z</published>
    <updated>2018-12-27T07:45:22.122Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 项目初始化及启动</span><br><span class="line">$ npm install dva-cli –g</span><br><span class="line">$ dva new myapp &amp;&amp; cd myapp</span><br><span class="line">$ npm run start</span><br><span class="line"></span><br><span class="line"># 安装 antd</span><br><span class="line">$ npm install antd babel-plugin-import --save</span><br><span class="line"># 配置 .webpackrc</span><br><span class="line">&#123;</span><br><span class="line">  &quot;extraBabelPlugins&quot; : [</span><br><span class="line">    [&quot;import&quot;, &#123;&quot;libraryName&quot;: &quot;antd&quot;, &quot;style&quot;: &quot;css&quot;&#125;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"># 页面中使用 antd 组件</span><br><span class="line">import &#123; Table, Button, Form, Input, Select &#125; from &apos;antd&apos;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="antd" scheme="https://frostbelt.github.io/tags/antd/"/>
    
      <category term="react" scheme="https://frostbelt.github.io/tags/react/"/>
    
      <category term="dva" scheme="https://frostbelt.github.io/tags/dva/"/>
    
  </entry>
  
  <entry>
    <title>Laravel wxxcx 微信小程序获取用户信息</title>
    <link href="https://frostbelt.github.io/2018/12/27/Laravel-wxxcx-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF/"/>
    <id>https://frostbelt.github.io/2018/12/27/Laravel-wxxcx-微信小程序获取用户信息/</id>
    <published>2018-12-27T01:29:25.000Z</published>
    <updated>2018-12-27T01:53:34.784Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/lanceWan/wxxcx" target="_blank" rel="noopener">wxxcx</a> 是Laravel5微信小程序登录获取用户信息扩展</p><h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 安装</span><br><span class="line">$ composer require iwanli/wxxcx</span><br><span class="line"># 注册服务</span><br><span class="line"># 在 /config/app.php 中的 providers 数组添加</span><br><span class="line">Iwanli\Wxxcx\WxxcxServiceProvider::class,</span><br><span class="line"># 发布配置文件</span><br><span class="line">$ php artisan vendor:publish --tag=wxxcx</span><br><span class="line"># 即生成 config/wxxcx.php，在其中填写 appid 和 secret</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="获取-openid-session-key-userInfo"><a href="#获取-openid-session-key-userInfo" class="headerlink" title="获取 openid, session_key, userInfo"></a>获取 openid, session_key, userInfo</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line">use Iwanli\Wxxcx\Wxxcx;</span><br><span class="line"></span><br><span class="line">class WxxcxController extends Controller</span><br><span class="line">&#123;</span><br><span class="line">  protected $wxxcx;</span><br><span class="line"></span><br><span class="line">  function __construct(Wxxcx $wxxcx)</span><br><span class="line">  &#123;</span><br><span class="line">    $this-&gt;wxxcx = $wxxcx;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  public function getWxUserInfo()</span><br><span class="line">  &#123;</span><br><span class="line">    // code 在小程序端使用 wx.login 获取</span><br><span class="line">    $code = request(&apos;code&apos;, &apos;&apos;);</span><br><span class="line">    // encryptedData 和 iv 在小程序端使用 wx.getUserInfo 获取</span><br><span class="line">    $encryptedData = request(&apos;encryptedData&apos;, &apos;&apos;);</span><br><span class="line">    $iv = request(&apos;iv&apos;, &apos;&apos;);</span><br><span class="line"></span><br><span class="line">    // 根据 code 获取用户 openid, session_key</span><br><span class="line">    $loginInfo = $this-&gt;wxxcx-&gt;getLoginInfo($code);</span><br><span class="line"></span><br><span class="line">    // 获取解密后的用户信息</span><br><span class="line">    $userInfo = $this-&gt;wxxcx-&gt;getUserInfo($encryptedData, $iv);</span><br><span class="line"></span><br><span class="line">    return [</span><br><span class="line">      &quot;loginInfo&quot; =&gt; $loginInfo,</span><br><span class="line">      &quot;userInfo&quot; =&gt; $userInfo,</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    /*</span><br><span class="line">      数据格式:</span><br><span class="line">      loginInfo : &#123;</span><br><span class="line">        openid : &quot;xxx&quot;,</span><br><span class="line">        session_key : &quot;xxx&quot;,</span><br><span class="line">      &#125;</span><br><span class="line">      userInfo : &#123;</span><br><span class="line">        openId: &quot;xxx&quot;,</span><br><span class="line">        nickName: &quot;用户昵称&quot;,</span><br><span class="line">        gender: 1,</span><br><span class="line">        language: &quot;zh_CN&quot;,</span><br><span class="line">        city: &quot;&quot;,</span><br><span class="line">        province: &quot;Beijing&quot;,</span><br><span class="line">        country: &quot;China&quot;,</span><br><span class="line">        avatarUrl: &quot;用户头像&quot;,</span><br><span class="line">        watermark: &#123;</span><br><span class="line">          timestamp: 1544277591,</span><br><span class="line">          appid: &quot;xxx&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    */</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openid 即用户在当前小程序中的唯一标识，不同的小程序 openid 不同</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/lanceWan/wxxcx&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;wxxcx&lt;/a&gt; 是Laravel5微信小程序登录获取用户信息扩展&lt;/p&gt;
&lt;h3 id=&quot;部署&quot;&gt;&lt;a href=&quot;#部署&quot; class=&quot;headerlink&quot; title=&quot;部署&quot;&gt;&lt;/a&gt;部署&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# 安装&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ composer require iwanli/wxxcx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 注册服务&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 在 /config/app.php 中的 providers 数组添加&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Iwanli\Wxxcx\WxxcxServiceProvider::class,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 发布配置文件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ php artisan vendor:publish --tag=wxxcx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 即生成 config/wxxcx.php，在其中填写 appid 和 secret&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="laravel" scheme="https://frostbelt.github.io/tags/laravel/"/>
    
      <category term="小程序" scheme="https://frostbelt.github.io/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>切个图，想用 babel&amp;sass</title>
    <link href="https://frostbelt.github.io/2018/12/26/%E5%88%87%E4%B8%AA%E5%9B%BE%EF%BC%8C%E6%83%B3%E7%94%A8-babel-sass/"/>
    <id>https://frostbelt.github.io/2018/12/26/切个图，想用-babel-sass/</id>
    <published>2018-12-26T09:27:16.000Z</published>
    <updated>2018-12-26T09:31:43.368Z</updated>
    
    <content type="html"><![CDATA[<p>前面有 <a href="/2018/10/26/切个图，想用-sass/">切个图，想用 sass</a> [切个图，想用-babel]/2018/12/26/切个图，想用-babel/</p><p>最终还是用了 gulp<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;model&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;new project package.json model&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;author&quot;: &quot;frostbelt&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class="line">  &quot;devDependencies&quot;: &#123;</span><br><span class="line">    &quot;babel-cli&quot;: &quot;^6.16.0&quot;,</span><br><span class="line">    &quot;babel-core&quot;: &quot;^6.26.3&quot;,</span><br><span class="line">    &quot;babel-loader&quot;: &quot;^6.2.5&quot;,</span><br><span class="line">    &quot;babel-plugin-lodash&quot;: &quot;^3.2.9&quot;,</span><br><span class="line">    &quot;babel-polyfill&quot;: &quot;^6.16.0&quot;,</span><br><span class="line">    &quot;babel-preset-env&quot;: &quot;^1.7.0&quot;,</span><br><span class="line">    &quot;babel-preset-es2015&quot;: &quot;^6.16.0&quot;,</span><br><span class="line">    &quot;babel-preset-stage-0&quot;: &quot;^6.24.1&quot;,</span><br><span class="line">    &quot;gulp&quot;: &quot;^3.9.1&quot;,</span><br><span class="line">    &quot;gulp-babel&quot;: &quot;^7.0.1&quot;,</span><br><span class="line">    &quot;gulp-clean&quot;: &quot;^0.3.2&quot;,</span><br><span class="line">    &quot;gulp-sass&quot;: &quot;^4.0.2&quot;,</span><br><span class="line">    &quot;gulp-uglify&quot;: &quot;^3.0.0&quot;,</span><br><span class="line">    &quot;node-sass&quot;: &quot;^4.11.0&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * new project gulpfile.js model</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">const gulp = require(&apos;gulp&apos;);</span><br><span class="line">const uglify = require(&quot;gulp-uglify&quot;);</span><br><span class="line">const babel = require(&quot;gulp-babel&quot;);</span><br><span class="line">const sass = require(&apos;gulp-sass&apos;);</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * js</span><br><span class="line"> */</span><br><span class="line">gulp.task(&quot;js&quot;, function()&#123;</span><br><span class="line">  return gulp.src(&quot;resources/assets/js/**/*.js&quot;)</span><br><span class="line">    .pipe(babel(&#123;</span><br><span class="line">      presets : [</span><br><span class="line">        &quot;env&quot;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;))</span><br><span class="line">    .pipe(uglify())</span><br><span class="line">    .pipe(gulp.dest(&quot;public/dist/js&quot;)); </span><br><span class="line">&#125;);</span><br><span class="line">gulp.task(&quot;watchjs&quot;, function()&#123;</span><br><span class="line">  gulp.watch(&quot;resources/assets/js/**/*.js&quot;, [&apos;js&apos;]);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * css</span><br><span class="line"> */</span><br><span class="line">gulp.task(&quot;css&quot;, function()&#123;</span><br><span class="line">  return gulp.src(&quot;resources/assets/css/**/*.scss&quot;)</span><br><span class="line">    .pipe(sass(&#123;outputStyle: &apos;compressed&apos;&#125;).on(&apos;error&apos;, sass.logError))</span><br><span class="line">    .pipe(gulp.dest(&quot;public/dist/css&quot;)); </span><br><span class="line">&#125;);</span><br><span class="line">gulp.task(&quot;watchcss&quot;, function()&#123;</span><br><span class="line">  gulp.watch(&quot;resources/assets/css/**/*.scss&quot;, [&apos;css&apos;]);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(&quot;default&quot;, [&quot;watchjs&quot;, &quot;watchcss&quot;]);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前面有 &lt;a href=&quot;/2018/10/26/切个图，想用-sass/&quot;&gt;切个图，想用 sass&lt;/a&gt; [切个图，想用-babel]/2018/12/26/切个图，想用-babel/&lt;/p&gt;
&lt;p&gt;最终还是用了 gulp&lt;br&gt;
    
    </summary>
    
    
      <category term="scss" scheme="https://frostbelt.github.io/tags/scss/"/>
    
      <category term="babel" scheme="https://frostbelt.github.io/tags/babel/"/>
    
      <category term="sass" scheme="https://frostbelt.github.io/tags/sass/"/>
    
  </entry>
  
  <entry>
    <title>切个图，想用 babel</title>
    <link href="https://frostbelt.github.io/2018/12/26/%E5%88%87%E4%B8%AA%E5%9B%BE%EF%BC%8C%E6%83%B3%E7%94%A8-babel/"/>
    <id>https://frostbelt.github.io/2018/12/26/切个图，想用-babel/</id>
    <published>2018-12-26T07:18:41.000Z</published>
    <updated>2018-12-26T07:43:01.802Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/2018/10/26/切个图，想用-sass/">切个图，想用 sass</a>的兄弟篇…</p><h3 id="使用-babel"><a href="#使用-babel" class="headerlink" title="使用 babel"></a>使用 babel</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 安装 babel</span><br><span class="line">$ npm install -g babel-cli</span><br><span class="line"># 配置转码规则</span><br><span class="line">$ npm install --save-dev babel-preset-es2015</span><br><span class="line"># .babelrc 文件</span><br><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [</span><br><span class="line">    &quot;es2015&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;plugins&quot;: []</span><br><span class="line">&#125;</span><br><span class="line"># 编译</span><br><span class="line">$ babel test.js</span><br><span class="line">$ babel a.js --out-file b.js 或 babel a.js -o b.js</span><br><span class="line">$ babel src --out-dir lib 或 babel src -d lib</span><br><span class="line">$ babel src -w --out-dir lib 或 babel src -w -d lib</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;/2018/10/26/切个图，想用-sass/&quot;&gt;切个图，想用 sass&lt;/a&gt;的兄弟篇…&lt;/p&gt;
&lt;h3 id=&quot;使用-babel&quot;&gt;&lt;a href=&quot;#使用-babel&quot; class=&quot;headerlink&quot; title=&quot;使用 babel&quot;&gt;&lt;/a
      
    
    </summary>
    
    
      <category term="scss" scheme="https://frostbelt.github.io/tags/scss/"/>
    
      <category term="babel" scheme="https://frostbelt.github.io/tags/babel/"/>
    
  </entry>
  
  <entry>
    <title>H5 能力</title>
    <link href="https://frostbelt.github.io/2018/12/25/H5-%E8%83%BD%E5%8A%9B/"/>
    <id>https://frostbelt.github.io/2018/12/25/H5-能力/</id>
    <published>2018-12-25T04:08:06.000Z</published>
    <updated>2018-12-25T08:17:37.619Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>昨天老弟问了一些有关 H5 能力的问题，今天总结一下</p></blockquote><h2 id="1-JS-能获取哪些信息"><a href="#1-JS-能获取哪些信息" class="headerlink" title="1 JS 能获取哪些信息?"></a>1 JS 能获取哪些信息?</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">测试页面地址:</span><br><span class="line">https://p0.cdn.qhstatic.com/dev/h5info.html</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="1-1-ua"><a href="#1-1-ua" class="headerlink" title="1.1 ua"></a>1.1 ua</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useragent:</span><br><span class="line">mozilla/5.0 (iphone; cpu iphone os 12_0 like mac os x) applewebkit/605.1.15 (khtml, like gecko) version/12.0 mobile/15e148 safari/604.1</span><br><span class="line">注: 可提取手机系统、系统版本号等</span><br></pre></td></tr></table></figure><h3 id="1-2-屏幕尺寸、浏览器视窗尺寸、页面尺寸"><a href="#1-2-屏幕尺寸、浏览器视窗尺寸、页面尺寸" class="headerlink" title="1.2 屏幕尺寸、浏览器视窗尺寸、页面尺寸"></a>1.2 屏幕尺寸、浏览器视窗尺寸、页面尺寸</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(window.screen.availWidth/availHeight):</span><br><span class="line">414*736</span><br><span class="line">($(window).width/height):</span><br><span class="line">414*622</span><br><span class="line">document.body.clientWidth/clientHeight:</span><br><span class="line">414*2000</span><br></pre></td></tr></table></figure><h3 id="1-3-像素比"><a href="#1-3-像素比" class="headerlink" title="1.3 像素比"></a>1.3 像素比</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">像素比:</span><br><span class="line">3</span><br><span class="line">注: 加载不同清晰度的图片</span><br></pre></td></tr></table></figure><h3 id="1-4-系统字号、字体"><a href="#1-4-系统字号、字体" class="headerlink" title="1.4 系统字号、字体"></a>1.4 系统字号、字体</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">系统字体:</span><br><span class="line">-webkit-standard</span><br><span class="line">系统字号:</span><br><span class="line">16px</span><br><span class="line">-webkit-text-size-adjust:</span><br><span class="line">undefined</span><br><span class="line">字号比例:</span><br><span class="line">1</span><br><span class="line">注: 如果是 rem 布局，需要考虑用户调整系统字号的问题，但自测 iOS 浏览器中监测不到系统字号变化</span><br></pre></td></tr></table></figure><h3 id="1-5-是否为手机浏览器"><a href="#1-5-是否为手机浏览器" class="headerlink" title="1.5 是否为手机浏览器"></a>1.5 是否为手机浏览器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">是否为手机浏览器:</span><br><span class="line">是</span><br><span class="line">注: 根据 ua 判断</span><br></pre></td></tr></table></figure><h3 id="1-6-获取地理位置"><a href="#1-6-获取地理位置" class="headerlink" title="1.6 获取地理位置"></a>1.6 获取地理位置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">通过系统接口获取地理位置(需要用户授权):</span><br><span class="line">----经度:116.48469977986164 纬度:39.981722613785344</span><br><span class="line">注: 微信中可调用微信 API 获取地理位置</span><br><span class="line">普通浏览器可调用 navigator.geolocation 获取地理位置</span><br><span class="line">都需要用户授权</span><br></pre></td></tr></table></figure><p><img src="//p.ssl.qhimg.com/t01880963038869bfd8.jpg" alt="h5info"></p><h3 id="1-7-用户IP"><a href="#1-7-用户IP" class="headerlink" title="1.7 用户IP"></a>1.7 用户IP</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">用户IP:</span><br><span class="line">----223.104.3.182</span><br><span class="line">注: H5 自身无法获取，但可以调接口获取</span><br></pre></td></tr></table></figure><h3 id="1-8-获取网络状态"><a href="#1-8-获取网络状态" class="headerlink" title="1.8 获取网络状态"></a>1.8 获取网络状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">网络状态:</span><br><span class="line">----4G</span><br><span class="line">注: 根据 navigator.connection 判断网络状态，但兼容性还不行</span><br><span class="line">微信里可以调微信 API 获取</span><br></pre></td></tr></table></figure><p><img src="//p.ssl.qhimg.com/t017ea367f0f2d833a3.jpg" alt="h5info"></p><h2 id="2-JS-监测页面性能"><a href="#2-JS-监测页面性能" class="headerlink" title="2 JS 监测页面性能"></a>2 JS 监测页面性能</h2><p>利用 window.performance 属性查看网页加载过程中的各个阶段的耗时<br><img src="//p.ssl.qhimg.com/t018b0f1919f739c6eb.png" alt="h5info"></p><h3 id="2-1-Navigation-Timing-API"><a href="#2-1-Navigation-Timing-API" class="headerlink" title="2.1 Navigation Timing API"></a>2.1 Navigation Timing API</h3><p>原始数据:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">navigationStart 浏览器处理当前网页的启动时间:</span><br><span class="line">1545706517172</span><br><span class="line">navigationStart 浏览器发起http请求:</span><br><span class="line">1545706517172</span><br><span class="line">domainLookupStart 域名查询开始:</span><br><span class="line">1545706517181</span><br><span class="line">domainLookupEnd 域名查询结束:</span><br><span class="line">1545706517222</span><br><span class="line">connectStart 开始与服务器建立连接:</span><br><span class="line">1545706517230</span><br><span class="line">connectEnd 与服务器连接建立:</span><br><span class="line">1545706517267</span><br><span class="line">requestStart 浏览器向服务器发出http请求(或开始读取本地缓存):</span><br><span class="line">1545706517267</span><br><span class="line">responseStart 浏览器从服务器（或读取本地缓存）收到第一个字节:</span><br><span class="line">1545706517443</span><br><span class="line">responseEnd 浏览器从服务器收到最后一个字节:</span><br><span class="line">1545706517453</span><br><span class="line">domLoading 浏览器开始解析网页DOM结构:</span><br><span class="line">1545706517453</span><br><span class="line">domInteractive 网页dom树创建完成，开始加载内嵌资源:</span><br><span class="line">1545706517479</span><br><span class="line">domContentLoadedEventStart 网页DOMContentLoaded:</span><br><span class="line">1545706517479</span><br><span class="line">domContentLoadedEventEnd 网页所有需要执行的脚本执行完成，domReady:</span><br><span class="line">1545706517499</span><br><span class="line">domComplete 网页dom结构生成:</span><br><span class="line">1545706517643</span><br><span class="line">loadEventStart 网页load事件的回调函数开始执行:</span><br><span class="line">1545706517643</span><br><span class="line">loadEventEnd 网页load事件的回调函数结束运行:</span><br><span class="line">1545706517643</span><br><span class="line">注: 过早读取 domComplete, loadEventEnd 可能为 0</span><br><span class="line">需要等相应的时机后取值</span><br></pre></td></tr></table></figure></p><p>计算数据(单位:ms):<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DNS寻址时间:</span><br><span class="line">41</span><br><span class="line">TCP连接耗时:</span><br><span class="line">37</span><br><span class="line">首包时间:</span><br><span class="line">271</span><br><span class="line">request请求耗时:</span><br><span class="line">186</span><br><span class="line">解析DOM树结构的时间:</span><br><span class="line">190</span><br><span class="line">页面加载总时间:</span><br><span class="line">471</span><br></pre></td></tr></table></figure></p><p>兼容性:<br><img src="//p.ssl.qhimg.com/t01776e875f42667ffa.jpg" alt="h5info"></p><h3 id="2-2-Resource-Timing"><a href="#2-2-Resource-Timing" class="headerlink" title="2.2 Resource Timing"></a>2.2 Resource Timing</h3><p>各资源加载耗时(单位:ms):<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">加载http://p0.cdn.qhstatic.com/resources/css/reset.css</span><br><span class="line">DNS寻址时间:0 request请求耗时:0</span><br><span class="line">加载http://p0.cdn.qhstatic.com/api/zepto.js</span><br><span class="line">DNS寻址时间:0 request请求耗时:0</span><br><span class="line">加载http://res.wx.qq.com/open/js/jweixin-1.0.0.js</span><br><span class="line">DNS寻址时间:0 request请求耗时:325</span><br><span class="line">加载http://p0.cdn.qhstatic.com/api/util.js</span><br><span class="line">DNS寻址时间:0 request请求耗时:0</span><br></pre></td></tr></table></figure></p><p>兼容性:<br><img src="//p.ssl.qhimg.com/t0185dd2bfcd158d74b.jpg" alt="h5info"></p><h3 id="2-3-资源不可访问"><a href="#2-3-资源不可访问" class="headerlink" title="2.3 资源不可访问"></a>2.3 资源不可访问</h3><p>如果一个资源不可访问了，能判断是DNS寻址的问题还是资源的问题吗？<br>自测请求一个403、一个404、一个500的地址以及一个不存在的域名<br>都没有进入 performance entries，只以说明资源加载出错，不能判断到底是什么问题</p><h2 id="3-webp兼容性"><a href="#3-webp兼容性" class="headerlink" title="3. webp兼容性"></a>3. webp兼容性</h2><p><img src="//p.ssl.qhimg.com/t013f0680b4381ddd88.jpg" alt="h5info"></p><h2 id="4-m3u8兼容性"><a href="#4-m3u8兼容性" class="headerlink" title="4. m3u8兼容性"></a>4. m3u8兼容性</h2><p><img src="//p.ssl.qhimg.com/t01711119ea075131fc.jpg" alt="h5info"></p><h2 id="5-是否可获得系统-uuid"><a href="#5-是否可获得系统-uuid" class="headerlink" title="5. 是否可获得系统 uuid"></a>5. 是否可获得系统 uuid</h2><p>否</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://caniuse.com/" target="_blank" rel="noopener">caniuse</a><br><a href="https://www.cnblogs.com/zourong/p/5649841.html" target="_blank" rel="noopener">利用performance属性查看网页性能</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance" target="_blank" rel="noopener">Performance</a></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;昨天老弟问了一些有关 H5 能力的问题，今天总结一下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-JS-能获取哪些信息&quot;&gt;&lt;a href=&quot;#1-JS-能获取哪些信息&quot; class=&quot;headerlink&quot; title=&quot;1 JS 能获取哪些信息?&quot;&gt;&lt;/a&gt;1 JS 能获取哪些信息?&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;测试页面地址:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;https://p0.cdn.qhstatic.com/dev/h5info.html&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="h5" scheme="https://frostbelt.github.io/tags/h5/"/>
    
      <category term="js" scheme="https://frostbelt.github.io/tags/js/"/>
    
      <category term="performance" scheme="https://frostbelt.github.io/tags/performance/"/>
    
  </entry>
  
  <entry>
    <title>解决:nvm is not compatible with the npm config prefix option...</title>
    <link href="https://frostbelt.github.io/2018/12/24/%E8%A7%A3%E5%86%B3-nvm-is-not-compatible-with-the-npm-config-prefix-option/"/>
    <id>https://frostbelt.github.io/2018/12/24/解决-nvm-is-not-compatible-with-the-npm-config-prefix-option/</id>
    <published>2018-12-24T02:48:48.000Z</published>
    <updated>2018-12-24T02:50:10.931Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># uninstall nvm</span><br><span class="line">$ sudo rm -rf ~/.nvm</span><br><span class="line"># reinstall nvm by curl (https://github.com/creationix/nvm)</span><br><span class="line">$ curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="nvm" scheme="https://frostbelt.github.io/tags/nvm/"/>
    
      <category term="node" scheme="https://frostbelt.github.io/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>git 解决:因为远程仓库包含您本地尚不存在的提交</title>
    <link href="https://frostbelt.github.io/2018/12/22/git-%E8%A7%A3%E5%86%B3-%E5%9B%A0%E4%B8%BA%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E5%8C%85%E5%90%AB%E6%82%A8%E6%9C%AC%E5%9C%B0%E5%B0%9A%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E6%8F%90%E4%BA%A4/"/>
    <id>https://frostbelt.github.io/2018/12/22/git-解决-因为远程仓库包含您本地尚不存在的提交/</id>
    <published>2018-12-22T13:46:12.000Z</published>
    <updated>2018-12-22T13:47:56.021Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u origin +master</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span cla
      
    
    </summary>
    
    
      <category term="git" scheme="https://frostbelt.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Alfred 快速打开文件夹</title>
    <link href="https://frostbelt.github.io/2018/12/19/Alfred-%E5%BF%AB%E9%80%9F%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
    <id>https://frostbelt.github.io/2018/12/19/Alfred-快速打开文件夹/</id>
    <published>2018-12-19T06:50:38.000Z</published>
    <updated>2019-01-17T10:06:22.756Z</updated>
    
    <content type="html"><![CDATA[<p>Alfred 文件搜索请参考<a href="https://www.jianshu.com/p/2ce1dd633f4f" target="_blank" rel="noopener">Mac效率神器Alfred系列教程—文件搜索</a></p><h3 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">同时开发多个项目，目录很深，也会有很多同名目录</span><br><span class="line">比如，想把切图放到 xx 项目的 images 文件夹下</span><br><span class="line">finder 本身可以设置常用文件夹，但。。。多个项目的 images 傻傻分不清楚</span><br></pre></td></tr></table></figure><p><img src="/images/alfred_finder_常用文件夹.png" alt="alfred_finder_常用文件夹.png"></p><a id="more"></a><h3 id="Alfred-快速打开文件夹"><a href="#Alfred-快速打开文件夹" class="headerlink" title="Alfred 快速打开文件夹"></a>Alfred 快速打开文件夹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Alfred 是搜索文件神奇，怎么利用一下？</span><br><span class="line">在 xx 项目的 images 文件夹下新建一个 alfredholder_xx_images.md 文件</span><br><span class="line">在 Alfred 中 find alfredholder_xx_images 就可以很快打开相应文件夹了</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Alfred 文件搜索请参考&lt;a href=&quot;https://www.jianshu.com/p/2ce1dd633f4f&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Mac效率神器Alfred系列教程—文件搜索&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;场景&quot;&gt;&lt;a href=&quot;#场景&quot; class=&quot;headerlink&quot; title=&quot;场景&quot;&gt;&lt;/a&gt;场景&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;同时开发多个项目，目录很深，也会有很多同名目录&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;比如，想把切图放到 xx 项目的 images 文件夹下&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;finder 本身可以设置常用文件夹，但。。。多个项目的 images 傻傻分不清楚&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/images/alfred_finder_常用文件夹.png&quot; alt=&quot;alfred_finder_常用文件夹.png&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="alfred" scheme="https://frostbelt.github.io/tags/alfred/"/>
    
      <category term="Mac" scheme="https://frostbelt.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>git 快速提交</title>
    <link href="https://frostbelt.github.io/2018/12/19/git-%E5%BF%AB%E9%80%9F%E6%8F%90%E4%BA%A4/"/>
    <id>https://frostbelt.github.io/2018/12/19/git-快速提交/</id>
    <published>2018-12-19T06:34:51.000Z</published>
    <updated>2018-12-19T06:38:29.669Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">每次都</span><br><span class="line">git add .</span><br><span class="line">git ci -m &quot;xxx&quot;</span><br><span class="line">git push</span><br><span class="line">是不是很烦？</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="把上述命令合并成一个别名"><a href="#把上述命令合并成一个别名" class="headerlink" title="把上述命令合并成一个别名"></a>把上述命令合并成一个别名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias cgitfix=&apos;new()&#123;git add . &amp;&amp; git ci -m $&#123;1:-fix&#125; &amp;&amp; git push;&#125;;new&apos;</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 默认 commit 时的 msg 为 &quot;fix&quot;</span><br><span class="line">$ cgitfix</span><br><span class="line">或</span><br><span class="line">$ cgitfix &quot;some other msg&quot;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;每次都&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git ci -m &amp;quot;xxx&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;是不是很烦？&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="alias" scheme="https://frostbelt.github.io/tags/alias/"/>
    
      <category term="shell" scheme="https://frostbelt.github.io/tags/shell/"/>
    
      <category term="git" scheme="https://frostbelt.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>vscode 快速打开项目</title>
    <link href="https://frostbelt.github.io/2018/12/19/vscode-%E5%BF%AB%E9%80%9F%E6%89%93%E5%BC%80%E9%A1%B9%E7%9B%AE/"/>
    <id>https://frostbelt.github.io/2018/12/19/vscode-快速打开项目/</id>
    <published>2018-12-19T06:27:58.000Z</published>
    <updated>2018-12-19T09:47:40.045Z</updated>
    
    <content type="html"><![CDATA[<h3 id="vscode-支持命令行"><a href="#vscode-支持命令行" class="headerlink" title="vscode 支持命令行"></a>vscode 支持命令行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">command + shift + p</span><br><span class="line">输入 &quot;code&quot;</span><br><span class="line">选择 &quot;Shell Command: Install &apos;code&apos; command in PATH&quot;</span><br><span class="line">这样在终端就可以用命令 $ code 打开 vscode</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="给项目设定别名"><a href="#给项目设定别名" class="headerlink" title="给项目设定别名"></a>给项目设定别名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~/.bashrc 中给项目设定别名，如:</span><br><span class="line">alias codeqidemo=&apos;cd ~/xxx/qidemo &amp;&amp; code ./ &amp;&amp; exit&apos;</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ codeqidemo</span><br></pre></td></tr></table></figure><h3 id="更快速"><a href="#更快速" class="headerlink" title="更快速"></a>更快速</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">还可以与 Alred 配合使用</span><br><span class="line">Alred 中输入 &quot;&gt;&quot; 开头的命令，就会在终端执行</span><br><span class="line">那么就输入</span><br><span class="line">&gt;codeqidemo</span><br></pre></td></tr></table></figure><h3 id="小问题"><a href="#小问题" class="headerlink" title="小问题"></a>小问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 终端在执行 exit 后没有关闭，而是显示 [进程已完成]</span><br><span class="line">解决: 终端编好设置-&gt;描述文件-&gt;shell</span><br><span class="line">当 shell 退出时，选择&quot;关闭窗口&quot;</span><br><span class="line">2. 终端关闭后，还是会在 Dock 中留下一个图标，占地方</span><br><span class="line">也就是只关闭了当前终端，但终端没有完全退出</span><br><span class="line">还没有解决，如果你知道怎么搞，请给我留言，多谢~</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;vscode-支持命令行&quot;&gt;&lt;a href=&quot;#vscode-支持命令行&quot; class=&quot;headerlink&quot; title=&quot;vscode 支持命令行&quot;&gt;&lt;/a&gt;vscode 支持命令行&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;command + shift + p&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;输入 &amp;quot;code&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;选择 &amp;quot;Shell Command: Install &amp;apos;code&amp;apos; command in PATH&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;这样在终端就可以用命令 $ code 打开 vscode&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="alias" scheme="https://frostbelt.github.io/tags/alias/"/>
    
      <category term="shell" scheme="https://frostbelt.github.io/tags/shell/"/>
    
      <category term="vscode" scheme="https://frostbelt.github.io/tags/vscode/"/>
    
      <category term="afred" scheme="https://frostbelt.github.io/tags/afred/"/>
    
  </entry>
  
  <entry>
    <title>shell 变量默认值</title>
    <link href="https://frostbelt.github.io/2018/12/19/shell-%E5%8F%98%E9%87%8F%E9%BB%98%E8%AE%A4%E5%80%BC/"/>
    <id>https://frostbelt.github.io/2018/12/19/shell-变量默认值/</id>
    <published>2018-12-19T02:23:32.000Z</published>
    <updated>2018-12-19T02:30:23.928Z</updated>
    
    <content type="html"><![CDATA[<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 当变量 a 为 null 时则 msg=b </span><br><span class="line">msg=$&#123;a-b&#125;  </span><br><span class="line"></span><br><span class="line"># 当变量 a 为 null 或为空字符串时则 msg=b  </span><br><span class="line">msg=$&#123;a:-b&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">msg=$&#123;a:-b&#125;</span><br><span class="line">msg=$&#123;1:-fix&#125;</span><br><span class="line">注: 其中 $1-$9 为命令后的第 1-9 个参数，msg=$&#123;1:-fix&#125; 即第一个参数的默认值为 &quot;fix&quot;</span><br><span class="line">注: 在 shell 中，不要随便加空格，如 msg = $&#123;1:-fix&#125; 会报错</span><br></pre></td></tr></table></figure><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 快速 add . &amp; commit &amp; push</span><br><span class="line">## example:</span><br><span class="line">##   sh csh/fix.sh xxx</span><br><span class="line"></span><br><span class="line">msg=$&#123;1:-fix&#125;</span><br><span class="line"></span><br><span class="line">git add .</span><br><span class="line">git ci -m $msg</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;语法&quot;&gt;&lt;a href=&quot;#语法&quot; class=&quot;headerlink&quot; title=&quot;语法&quot;&gt;&lt;/a&gt;语法&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# 当变量 a 为 null 时则 msg=b &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;msg=$&amp;#123;a-b&amp;#125;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 当变量 a 为 null 或为空字符串时则 msg=b  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;msg=$&amp;#123;a:-b&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="shell" scheme="https://frostbelt.github.io/tags/shell/"/>
    
  </entry>
  
</feed>
